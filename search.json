[{"title":"æ­é…é™æ€åšå®¢å¢åŠ ä¸€ä¸ªç®¡ç†é¡µé¢","url":"/2024/02/07/ld/æ—¥å¸¸/å…¶å®ƒ/1707276914900/","content":"> éƒ¨åˆ†ä»£ç  H5éƒ¨åˆ†\n\n```html\n<div id=\"app\">\n        <div class=\"spinner-border\" role=\"status\" v-if=\"!loading\">\n            <span class=\"visually-hidden\">Loading...</span>\n        </div>\n        <div v-else style=\"padding: 20px;\">\n            <div v-if=\"!fileUrl&&!newFile\">\n                <button type=\"button\" class=\"btn btn-light\" @click=\"init()\">é‡æ–°åŠ è½½</button>\n                <button type=\"button\" class=\"btn btn-light\" @click=\"back()\">åé€€</button>\n                <button type=\"button\" class=\"btn btn-light\" @click=\"addFile()\">æ–°å»ºï¼ˆé»˜è®¤ä¸ºè¯¥ç›®å½•ä¸‹ï¼‰</button>\n                <div>å½“å‰è·¯å¾„{{lujing}}</div>\n                <table class=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#åºå·</th>\n                            <th scope=\"col\">æ–‡ä»¶åç§°</th>\n                            <th scope=\"col\" style=\"max-width: 150px;\">è·¯å¾„</th>\n                            <th scope=\"col\">æ–‡ä»¶ç±»å‹</th>\n                            <th>æ“ä½œ</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(item,index) in mdList\" :key=\"index\">\n                            <th scope=\"row\">{{index+1}}</th>\n                            <td>{{item.name}}</td>\n                            <td style=\"max-width: 250px; overflow-x: auto;\">{{item.download_url}}</td>\n                            <td>{{item.type}}</td>\n                            <td>\n                                <button v-if=\"item.type=='dir'\" class=\"btn btn-light\"\n                                    @click=\"nextDir(item.path)\">ä¸‹ä¸€å±‚</button>\n                                <button type=\"button\" class=\"btn btn-light\" v-if=\"item.type!='dir'\"\n                                    @click=\"editFile(item.download_url);sha=item.sha;editPath=item.path\">ç¼–è¾‘</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div v-if=\"newFile\" class=\"mb-3\">\n                <label for=\"exampleFormControlInput1\" class=\"form-label\">è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„\"\n                    :value=\"newFile\">\n            </div>\n            <div v-if=\"fileUrl||newFile\" id=\"vditor\"></div>\n            <div v-if=\"fileUrl||newFile\" style=\"margin-left: 80%;\">\n                <button type=\"button\" class=\"btn btn-success\" @click=\"save()\" style=\"margin-right: 10px;\">ä¿å­˜</button>\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"close()\">å…³é—­</button>\n            </div>\n        </div>\n    </div>\n```\n\n> js éƒ¨åˆ†\n\n```js\nimport { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';\n    import { Octokit, App } from \"https://esm.sh/octokit\";\n\n    createApp({\n        data() {\n            return {\n                loading: false,\n                owner: '',\n                repo: '',\n                branch: '',\n                path: 'source/_posts',\n                token: '',\n                user_name: '@126.com',\n                email: '@126.com',\n                getContentUrl: '',\n                adddocUrl: '',\n                /*MDæ–‡ä»¶çš„åˆ—è¡¨*/\n                mdList: [],\n                /*åŠ è½½MDæ–‡ä»¶ï¼Œå¹¶è¿›è¡Œç¼–è¾‘*/\n                fileUrl: '',\n                contentEditor: '',\n                lujing: '',\n                sha: '',\n                editPath: '',\n                newFile: '',\n            }\n        },\n        async created() {\n            await this.init();\n            this.loading = true;\n        },\n        methods: {\n            async get(url) {\n                return new Promise((resolve, reject) => {\n                    fetch('https://api.github.com' + url).then(res => {\n                        res.json().then(res => {\n                            resolve(res)\n\n                        })\n                    })\n                })\n            },\n            async post(url, data) {\n                return new Promise((resolve, reject) => {\n                    fetch('https://api.github.com' + url, { method: 'POST', body: data }).then(res => {\n                        res.json().then(res => {\n                            resolve(res)\n                        })\n                    })\n                })\n            },\n            getContentUrlFunction() {\n                this.getContentUrl = `/repos/${this.owner}/${this.repo}/contents/${this.path}?ref=${this.branch}`\n            },\n            async init() {\n                this.getContentUrlFunction();\n                const result = await this.get(this.getContentUrl);\n                this.mdList = result;\n                console.log(this.mdList);\n                if (this.mdList.find(b => b.type == 'file')) {\n                    this.lujing = this.mdList.find(b => b.type == 'file').path.substr(0, this.mdList.find(b => b.type == 'file').path.lastIndexOf('/'))\n                } else {\n                    this.lujing = this.mdList.find(b => b.type == 'dir').path.substr(0, this.mdList.find(b => b.type == 'dir').path.lastIndexOf('/'))\n                }\n            },\n            nextDir(path) {\n                this.path = path;\n                this.init();\n            },\n            async streamToString(stream) {\n                const reader = stream.getReader();\n                let result = '';\n                while (true) {\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n                    result += value;\n                }\n                return result;\n            },\n            async editFile(url) {\n                this.fileUrl = url;\n                const dec = new TextDecoder(\"UTF-8\");\n                const str = await new Promise(async (resolve, reject) => {\n                    fetch(this.fileUrl).then(async response => {\n                        var str = await this.streamToString(response.body)\n                        console.log(dec.decode(new Uint8Array(str.split(','))))\n                        resolve(dec.decode(new Uint8Array(str.split(','))))\n                    })\n                })\n                this.contentEditor = new Vditor('vditor', {\n                    height: 800,\n                    toolbarConfig: {\n                        pin: true,\n                    },\n                    cache: {\n                        enable: false,\n                    },\n                    after: () => {\n                        this.contentEditor.setValue(str)\n                    },\n                })\n            },\n            save() {\n                this.upload();\n            },\n            close() {\n                this.fileUrl = '';\n                this.newFile = '';\n            },\n            back() {\n                this.path = this.path.substr(0, this.path.lastIndexOf('/'));\n                this.init();\n            },\n            adddoc(file) {\n                this.adddocUrl = `/repos/${this.owner}/${this.repo}/contents/${this.path}?ref=${this.branch}`\n                return `/repos/${this.owner}/${this.repo}/contents/${this.editPath}?ref=${this.branch}`\n            },\n            async upload() {\n                var loading =weui.loading('ä¿å­˜ä¸­',2000);\n                var Upurl = this.adddoc();\n                var sha = '';\n                var hpp_githubgetdocinit = {\n                    method: \"GET\",\n                    headers: {\n                        \"content-type\": \"application/json;charset=UTF-8\",\n                        \"user-agent\": \"HexoPlusPlus@1.2.0\",\n                        \"Authorization\": \"token \" + this.token\n                    },\n                }\n                sha = await new Promise((resolve) => {\n                    fetch('https://api.github.com' + Upurl, hpp_githubgetdocinit).then(res => {\n                        res.json().then(res => {\n                            resolve(res.sha);\n                        })\n                    })\n                })\n                const octokit = new Octokit({\n                    auth: this.token\n                });\n                if (this.newFile) {\n                    let base64 = btoa(String.fromCharCode(...new TextEncoder().encode(this.contentEditor.getValue())))\n\n                    await octokit.request('PUT /repos/{owner}/{repo}/contents/{path}', {\n                        owner: this.owner,\n                        repo: this.repo,\n                        path: this.lujing + '/' + this.newFile,\n                        message: \"message \" + new Date().getTime(),\n                        committer: {\n                            name: this.user_name,\n                            email: this.email\n                        },\n                        content: base64,\n                        headers: {\n                            'X-GitHub-Api-Version': '2022-11-28'\n                        }\n                    })\n                } else {\n                    let base64 = btoa(String.fromCharCode(...new TextEncoder().encode(this.contentEditor.getValue())))\n                    await octokit.request('PUT /repos/{owner}/{repo}/contents/{path}', {\n                        owner: this.owner,\n                        repo: this.repo,\n                        path: this.editPath,\n                        message: \"message \" + new Date().getTime(),\n                        committer: {\n                            name: this.user_name,\n                            email: this.email\n                        },\n                        content: base64,\n                        sha: sha,\n                        headers: {\n                            'X-GitHub-Api-Version': '2022-11-28'\n                        }\n                    })\n                }\n                loading.hide();\n                weui.toast('æ“ä½œæˆåŠŸ', 3000)\n                this.close();\n        },\n        async addFile() {\n            this.newFile = new Date().getTime() + '.md';\n            setTimeout(() => {\n                this.contentEditor = new Vditor('vditor', {\n                    height: 800,\n                    toolbarConfig: {\n                        pin: true,\n                    },\n                    cache: {\n                        enable: false,\n                    },\n                    after: () => {\n                        this.contentEditor.setValue('')\n                    },\n                })\n            }, 100);\n        },\n\n    }\n    }).mount('#app')\n```\n","categories":["å°å·¥å…·"]},{"title":"postgre01","url":"/2024/02/06/ld/æ—¥å¸¸/sql/postgre01/","content":"> postgre ä¸­ç»å¸¸ä½¿ç”¨çš„è„šæœ¬\n\n```sql\nè¡Œè½¬åˆ—\nunnest(string_to_array(column_name , ','))\n\nåˆ—è½¬è¡Œ\nstring_agg(column_name , ',')\n\n\n```\n\n> é‰´æƒ\n\n```sql\n\npermission denied for sequence XXXX_control_no_seq \n\n```\n\n> é‡å»ºç´¢å¼•\n\n```sql\nDO \n\n$$\n\nDECLARE  \n\n  table_name text;  \n\nBEGIN  \n\n  FOR table_name IN (SELECT tablename FROM pg_tables WHERE schemaname = 'node' )  \n\n  LOOP  \n\n   BEGIN  \n\n     EXECUTE 'ALTER TABLE node.' || table_name || ' ALTER COLUMN \"id\" SET START 104001' ;  \n\n  EXCEPTION  \n\n    WHEN OTHERS THEN  \n\n      RAISE NOTICE 'Caught an exception: %', SQLERRM; -- æ•è·å¹¶æ‰“å°å¼‚å¸¸ä¿¡æ¯  \n\n  END;  \n\n  END LOOP;  \n\nEND \n\n$$\n\n;\n```\n\n> å¾ªç¯æ’å…¥æ•°æ®\n\n```sql\ndo $$\n\ndeclare\n\nv_idx integer := 1;\n\nbegin\n\n while v_idx < 1000 loop\n\n v_idx = v_idx+1;\n\ninsert into dbo.ï¼Ÿ\n\n( isreaded, isdeleted)\n\nOVERRIDING SYSTEM VALUE (select isreaded, isdeleted from dbo.ï¼Ÿas tt order by id desc limit 1);\n\n end loop;\n\nend $$;\n\n```\n\n> æŒ‰ç…§æŒ‡å®šå­—æ®µè¿›è¡Œåˆ†ç»„ å¹¶å–ä¸€è¡Œ\n\n```sql\nselect * from ( select ROW_NUMBER() over(partition by ss.?,ss.?, order by id desc) rn,* from\n\n\"dbo\".\"?\" as ss where ss.?=false and module='success') as sinfo where rn=1\n```\n\n> åˆ é™¤è¡¨ç»Ÿè®¡æƒ…æŠ¥ä¼˜åŒ–è¡¨æ€§èƒ½\n\n```sql\nanalyze tablename\n```\n\n> è¡¨å¢åŠ ç´¢å¼• æé«˜è„šæœ¬æ‰§è¡Œæ•ˆç‡\n\n```sql\ncreate index i_tablename_columnname on tablename(columnname);\n```\n","categories":["Sql"]},{"title":"å„ç§å·¥å…·","url":"/2024/02/05/ld/æ—¥å¸¸/tools/tools01/","content":"\n***ç”¨è“å¥åˆ†äº«***\n[è“å¥-devsidecar](https://dong0319.lanzoul.com/ioJmp1eqjsaj \"devsidecar\")\n[è“å¥-zerotier](https://dong0319.lanzoul.com/ipVo71eqjw7a \"zerotier\")\n[è“å¥-navicat](https://dong0319.lanzoul.com/b01fooayjå¯†ç :69kz \"navicat\")\n","tags":["å·¥å…·é“¾æ¥"],"categories":["å°æŠ€å·§"]},{"title":"js è½¬æ¢ csv to xlsx","url":"/2023/06/26/ld/work/jsæŠŠcsvè½¬æ¢xlsxï¼Œç™¾ä¸‡æ•°æ®é‡/","content":"å¼•ç”¨ä¸¤ä¸ªåŒ…\n```shell\nnpm i yarn\nyarn add node-xlsx\nyarn add csv-parse\n```\n\nä»£ç \n\n```js\nconst fs = require(\"fs\");\nconst { parse } = require(\"csv-parse\");\nconst xlsx = require('node-xlsx');\ninputUrl='./name.csv';\noutputUrl='./name.xlsx';\nmaxNum=99999;\nlet rows = [];\nlet excelArr = []\nfunction formatToExcel(id,row0,rowsAll){\n    let writeRow=[Object.keys(row0)];\n    rowsAll.forEach((ois)=>{\n        const arr=[];\n        for (const key in ois) {\n            arr.push(ois[key]);\n        }\n        writeRow.push(arr);\n    });\n    excelArr.push({name:'sheet'+id,data:writeRow});\n}\n\nnew Promise(async (resolve, reject) => {\n    let ids=0;\n    fs.createReadStream(inputUrl)\n        .pipe(parse({ columns: true, relax_quotes: true, escape: '\\\"', ltrim: true, rtrim: true }))\n        .on(\"data\", function (row) {\n            rows.push(row);\n            if(rows.length>=maxNum){\n                formatToExcel(ids,row,rows);\n                rows=[];\n                ids++;\n                console.log('ç¬¬'+ ids+'æ¬¡ è¯»å–10wæ¡æ•°æ®');\n            }\n        })\n        .on(\"end\", function () {\n            formatToExcel(ids,rows[0],rows);\n            console.log(\"å·²å…¨éƒ¨è¯»å–\");\n            resolve('finished')\n        })\n        .on(\"error\", function (error) {\n            console.log(error.message);\n            reject(error)\n        });\n}).then(o => {\n    console.log('æ­£åœ¨è½¬æ¢ä¸ºexcelï¼Œè¯·ç¨å...\\n---------------- æ•°æ®é‡è¶Šå¤§æ—¶é—´è¶Šé•¿');\n    var buffer=xlsx.build(excelArr);\n    console.log('æ­£åœ¨è¾“å‡ºexcelï¼Œè¯·ç¨å...\\n---------------- æ•°æ®é‡è¶Šå¤§æ—¶é—´è¶Šé•¿');\n    fs.writeFile(outputUrl,buffer,function(err){\n        console.log('è½¬æ¢å®Œæˆï¼Œ'+(err?'å¯¼å‡ºæ—¶å¯èƒ½å‡ºç°é—®é¢˜ï¼Œ':'')+'è¯·æ£€æŸ¥å¯¼å‡ºæ–‡ä»¶æ ¸å¯¹æ•°æ®');\n    })\n}\n).catch(o=>{\n    console.log(o);\n})\n\n\n\n```","categories":["å°æŠ€å·§"]},{"title":"js è‡ªå·±å†™æ²¹çŒ´","url":"/2023/05/24/ld/æ—¥å¸¸/nodejså­¦ä¹ /è‡ªå®šä¹‰youhou/","content":"\n```js\n//jianshu\nsetInterval(o=>{\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-1].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-2].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-3].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-4].innerHTML='';\n         document.getElementsByTagName('div')[document.getElementsByTagName('div').length-5].innerHTML='';\n            document.getElementsByTagName('div')[document.getElementsByTagName('div').length-7].innerHTML='';\n            document.getElementById('note').style='display:none';\n            document.getElementsByTagName('iframe')[0].style='display:none';\n        },8);\n```","categories":["code js"]},{"title":"frpå†…ç½‘ç©¿é€è®¾ç½®","url":"/2023/05/22/ld/æ—¥å¸¸/frp/frp/","content":"\nfrps.ini\n```shell\n[common]\nbind_port = 7000\ntoken = 12345678\n```\nå¯åŠ¨ \n```shell\nfrps -c frps.ini\n```\n\nfrpc.ini\n```shell\n[common]\nserver_addr = ip\nserver_port = 7000\ntoken = 12345678\n\n[ssh]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 3389\nremote_port = 7005\n\n# å¤šç«¯å£ç©¿é€\n[range:FTP]\ntype = tcp\nlocal_port = 21,50000-50010\nremote_port = 2121,10000-10010\nlocal_ip = 127.0.0.1\n\n# httpç©¿é€\n[web1]\ntype = http\nlocal_port = 8080\ncustom_domains = xxx.xxx.xxx.xxx # æœåŠ¡å™¨ip\nlocations = / # egï¼šhttp://xxx.xxx.xxx.xxx/yolo/test\n```\n\nå®¢æˆ·ç«¯å¯åŠ¨\n```shell\nfrpc -c frpc.ini\n```\n\n\nlinuxå¯ä»¥æŒä¹…åå°è¿è¡Œ\n```\nnohup ./frpc -c frpc.ini >/dev/null 2>&1 &\nnohup ./frps -c frps.ini >/dev/null 2>&1 &\n```\n---------\nä¸‹è½½åœ°å€\n\n\n**[https://github.com/fatedier/frp/releases](https://github.com/fatedier/frp/releases)**","categories":["å°æŠ€å·§"]},{"title":"js å‘é€é‚®ä»¶","url":"/2023/05/22/ld/work/jsé‚®ä»¶å‘é€åŠŸèƒ½å®ç°/","content":"**å¦‚é¢˜**\n```js\nfunction(){\n    options.from = '@126.com';\n        const transporter = createTransport({\n          port: 465,\n          secure: true, // secure:true for port 465, secure:false   for port 587\n          auth: {\n            user: '@126.com',\n            pass: '' // QQé‚®ç®±éœ€è¦ä½¿ç”¨æˆæƒç \n          },\n          host: 'smtp.126.com'\n        });\n        transporter.sendMail(options, (error, info) => {\n          if (error) {\n            return console.log(error);\n          }\n          console.log(`Message: ${info.messageId}`);\n          console.log(`sent: ${info.response}`);\n        });\n}\n```","categories":["å°æŠ€å·§"]},{"title":"è‹¹æœè£…æœºç»éªŒ","url":"/2023/05/19/ld/æ—¥å¸¸/å…¶å®ƒ/é»‘è‹¹æœè£…æœºç»éªŒ/","content":"\n\n- ç¬¬ä¸€æ­¥å‡†å¤‡éœ€è¦ å…ˆä¸‹è½½é»‘è‹¹æœé•œåƒï¼Œå¹¶æ‰¾é€‚åˆçš„EFI\nefiæ˜¯é»‘è‹¹æœå¼•å¯¼å’Œé©±åŠ¨ ä¸€èˆ¬åœ¨githubç›´æ¥æœç´¢èŠ¯ç‰‡åŠ  efiå…³é”®å­—å°±èƒ½æ‰¾åˆ°\næ¯”å¦‚æˆ‘æœç´¢çš„æ˜¯ i38100 efi\nå¦‚æœä½¿ç”¨çš„æ˜¯å…é©±æ˜¾å¡å¯æ“ä½œèŒƒå›´å°±æ›´å¤§äº†ï¼Œå› ä¸ºå¯¹åº”èŠ¯ç‰‡çš„efiæ˜¯ä¸ºäº†æ ¸æ˜¾é©±åŠ¨ã€‚23å¹´äº†å…é©±çš„ä¸€èˆ¬æ˜¯amdæ˜¾å¡ï¼Œè´­ä¹°åå‘amdçš„æ¯”è¾ƒå¥½\n\n- ç¬¬äºŒæ­¥å°†é•œåƒå†™å…¥uç›˜ï¼Œuç›˜æœ€å¥½æœ€å°16g\n\n- ç¬¬ä¸‰æ­¥ é€šè¿‡diskgenius å°†uç›˜ä¸‹çš„efiæ›¿æ¢\nç°åœ¨å¤§éƒ¨åˆ†ç”¨çš„éƒ½æ˜¯oc æ¯”è¾ƒè€çš„æ˜¯ç”¨å››å¶è‰ï¼Œä¸åˆ†è´µè´±ã€‚åæ­£ä¹‹ååŸºæœ¬ä¸ä¼šå‡çº§ï¼Œå‡çº§é©±åŠ¨æŒ‚äº†åŸºæœ¬æ²¡æ³•ç”¨äº†ã€‚ è¿˜æœ‰éœ€è¦æŠŠå¯åŠ¨åˆ†åŒºè°ƒæ•´åˆ°300mbï¼Œéƒ½æ¨è300mb\n\n- ç¬¬å››æ­¥ uç›˜uefiå¯åŠ¨\næŒ‰ç…§æç¤ºè£…æœºå°±è¡Œï¼Œå¯åŠ¨ä¸äº†å°±æ˜¯efiä¸å¯¹ï¼Œæ¢å°±å®Œäº†ï¼Œæ­£å¸¸è£…æœºä¼šé‡å¯ä¸€æ¬¡ï¼Œé‡å¯çš„æ—¶å€™ä¹Ÿè¦é€šè¿‡uç›˜å¯åŠ¨ç»§ç»­åˆ°è£…å®Œã€‚\n\n- ç¬¬äº”æ­¥\nå¦‚æœè£…å¥½äº†å°±å¯ä»¥æ›¿æ¢ä¹‹å‰æ‹·è´åˆ°uç›˜çš„efiåˆ°ç³»ç»Ÿå¯åŠ¨åˆ†åŒºï¼Œä¹‹åå¯åŠ¨å°±èµ°çš„è¿™ä¸ªäº†\n\n\n---------\né•œåƒé€‰æ‹© åœ¨x86è¿˜æ˜¯ Catalinaæœ€å¥½  bigsur ä¹Ÿè¡Œï¼Œå†å¾€ä¸‹å°±æ²¡æœ‰ä»€ä¹ˆä¼˜åŒ–äº†ï¼Œè£…æ–°çš„æ€§èƒ½ä¸æ˜¯å¾ˆå¥½","categories":["å°æŠ€å·§"]},{"title":"gitæ’é™¤è¿½è¸ª","url":"/2023/05/18/ld/work/gitå­¦ä¹ 01/","content":"- ä¸€ç§æ˜¯ç›´æ¥åœ¨.gitignoreä¸­å£°æ˜ï¼Œè¿™ç§æ‰€æœ‰äººéƒ½å—å½±å“ï¼Œå¹¶ä¸”ä¸è‡ªç”±\n- å¦ä¸€ç§æ˜¯åœ¨éšè—æ–‡ä»¶.git ä¸‹ infoæ–‡ä»¶å¤¹ çš„excludeæ–‡ä»¶ç§å¢åŠ ç›¸å¯¹è·¯å¾„ï¼Œä¸ªäººéšè—è¿™ç§å¾ˆèˆ’æœ\n- ä½†æ˜¯ä¸¤ç§æ–¹æ³•éƒ½æ˜¯åœ¨æ–‡ä»¶ä¸Šä¼ åå¿…é¡»ä»ä»“åº“æäº¤ä¸€æ¬¡åˆ é™¤æ‰èƒ½æ’é™¤åœ¨é¡¹ç›®å¤–äº†\n\n1\n","categories":["å°æŠ€å·§"]},{"title":"nodejs è¯»å–excel å¤„ç†æ•°æ® å¹¶å¯¼å‡º","url":"/2023/05/18/ld/æ—¥å¸¸/nodejså­¦ä¹ /jså­¦ä¹ 02/","content":"*nodejs è¯»å–excel å¹¶ç”Ÿæˆæ–°çš„excelæ–‡ä»¶*\n\n``` js\n// å¼•å…¥ node-xlsx æ¨¡å—\nconst xlsx = require('node-xlsx')\nvar fs=require('fs')\n\n// excelæ–‡ä»¶ç±»å¾„\nconst excelFilePath = './up.xlsx'\n\nconst sheets = xlsx.parse(excelFilePath);\n\nconst sheet = sheets[0];\nconsole.log(sheet);\n\n// æ‰“å°é¡µé¢æ•°æ®\nconsole.log(sheet.data);\n\n// è¾“å‡ºæ¯è¡Œå†…å®¹ åœ¨è¿™é‡Œå¤„ç†æ•°æ®\nsheet.data.map(row => {\n    console.log(row);\n\trow[4]=row[2];\n    // æ•°ç»„æ ¼å¼, æ ¹æ®ä¸åŒçš„ç´¢å¼•å–æ•°æ®\n})\nlet excelArr = [\n\t{\n\t\t//dataé‡Œé¢æ˜¯æ•°æ®ï¼Œä¸€ä¸ªæ•°ç»„ä¸€è¡Œ\n\t\t//columnè¿™ä¸€è¡Œæ˜¯å› ä¸ºä¾‹å­é‡Œéœ€è¦ä¸€ä¸ªå¤´\n\t\tname: \"sheet\", data: sheet.data\n\t}\n]\nvar buffer=xlsx.build(excelArr);\nfs.writeFile('./write.xlsx',buffer,function(err){\n  console.log(err)\n})\n```","categories":["code js"]},{"title":"js è‡ªåŠ¨å¢åŠ A-Z","url":"/2023/05/18/ld/æ—¥å¸¸/nodejså­¦ä¹ /jså­¦ä¹ 01/","content":"\n**è‡ªåŠ¨å¢åŠ A-Z**\næœ€å¤šåªæ”¯æŒåˆ°Z åè¾¹éœ€è¦è‡ªå·±å†™ä»£ç å°†Zä¹‹åå µæ­»ï¼Œæˆ–è€…åˆ°ä¸äº†è¿™ä¹ˆå¤šå°±ä¸ç”¨å µäº†\nä¼˜é›…æœ€é‡è¦\n\n```js\n\n\n//éœ€è¦Aä¹‹åçš„ç¬¬å‡ ä¸ª\nconst num=\nString.fromCharCode('A'.charCodeAt(0) + num)\n\n\n```","categories":["code js"]},{"title":"python requests å¢åŠ header","url":"/2023/05/18/ld/æ—¥å¸¸/pythonå­¦ä¹ /pythonå­¦ä¹ 01/","content":"**python requests å¢åŠ header**\n\n```python\n\nimport requests\nimport json\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',\n    \"Cookie\": \"MUSIC_A_T=1569983286727; \"\n}\n# https://music.163.com/#/my/m/music/playlist?id=3010181459\nx = requests.get('https://music.163.com/#/playlist?id=3010181459',headers=headers)\nprint(x.text);\n\n```","categories":["code python"]},{"title":"Dockeræ‰“åŒ…å­¦ä¹ ","url":"/2023/05/18/ld/æ—¥å¸¸/å…¶å®ƒ/docker æ‰“åŒ…å­¦ä¹ /","content":"**æ‰“åŒ…dockeråŸºæœ¬è„šæœ¬**\n- é¦–å…ˆéœ€è¦é€‰æ‹©åŸºç¡€é•œåƒã€‚ä¸€èˆ¬é€‰æ‹©è¿™ä¸ª æ˜¯ä½“ç§¯æœ€å°çš„ã€‚\nå¦‚æœä½¿ç”¨ç‰¹æ®ŠæŠ€æœ¯å°±é€‰æ‹©å¯¹åº”æŠ€æœ¯ä½¿ç”¨çš„ä¹Ÿå¯ä»¥ï¼Œ\n```shell\nFROM alpine:latest\n\nFROM node:14-alpine3.15\n```\n\n- å¦‚æœæœ‰éœ€è¦å¯ä»¥è®¾ç½®æ—¶åŒºï¼Œè¿™ä¸ªæ˜¯ç‹¬ç«‹é¡¹ç›®éœ€è¦çš„ï¼Œæ¯”å¦‚æˆ‘è¿™åªåœ¨æœ¬åœ°è·‘ä¸€ç‚¹ä»£ç \n\n```shell\n# è®¾ç½®æ—¶åŒº\nRUN apk add --no-cache tzdata \\\n    && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n    && echo \"Asia/Shanghai\" > /etc/timezone \\\n    && apk del tzdata\n```\n\nä¹‹ååŸºäºä½¿ç”¨çš„æŠ€æœ¯æ·»åŠ åŒ…\næ¯”å¦‚\npython éœ€è¦ python3å’Œpip\n```shell\nRUN apk add python3 py-pip\nRUN pip3 install requests\nRUN pip3 install schedule\n```\n\n- æœ€åè¿è¡Œå½“å‰å¯åŠ¨æŒ‡ä»¤\n\n```shell\nCMD [ \"python\", \"jobs.py\" ]\n```\n\n-----\n\nè¿™ä¹‹ä¸‹æ˜¯é€šè¿‡github action æ‰“åŒ…docker è„šæœ¬\nå¯æ”¯æŒå¤šç§å¹³å°x86  arm ç­‰\n```yml\nname: Build dockers\n\non:\n  push:\n    branches:\n      - master\n    tags:\n      - '*'\n\n  workflow_dispatch:\n\njobs:\n\n  docker:\n    name: Build dockers\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - uses: docker/setup-qemu-action@v2\n      - uses: docker/setup-buildx-action@v2\n        with:\n          install: true\n          platforms: linux/amd64,linux/arm64/v8,linux/arm/v7\n\n      - uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_USERNAME }}\n          password: ${{ secrets.DOCKER_TOKEN }}\n\n      - name: build and push in master\n        uses: docker/build-push-action@v4\n        with:\n          push: true\n          tags: dlld0319/jobs:latest\n          context: .\n          platforms: linux/amd64,linux/arm64/v8,linux/arm/v7\n```","categories":["docker"]},{"title":"è‹¹æœæ‰‹æœºåˆ›å»ºå¿«æ·åœ°å›¾æ–¹æ³•å…¶ä¸€","url":"/2023/04/29/ld/æ—¥å¸¸/å…¶å®ƒ/è‹¹æœæ‰‹æœºåœ°å›¾ä½¿ç”¨æŠ€å·§å…¶1/","content":"**è‹¹æœæ‰‹æœºåˆ›å»ºå¿«æ·åœ°å›¾æ–¹æ³•**\n\né«˜å¾·api\n\n**[https://lbs.amap.com/tools/picker](https://lbs.amap.com/tools/picker)**\n\nè…¾è®¯åœ°å›¾api\n\n**[https://lbs.qq.com/getPoint/](https://lbs.qq.com/getPoint/)**\n\nè‹¹æœæ‰‹æœºå¯ä»¥é€šè¿‡è¾“å…¥ç»çº¬åº¦å®šä½ä¸€ä¸ªåœ°ç‚¹ï¼Œé€šè¿‡å¿«æ·æŒ‡ä»¤ç›´æ¥å¯åŠ¨åœ°å›¾\n\n**iosamap://navi?sourceApplication=applicationName&poiname=é¾™æ¹–&poiid=BGVIS&lat=38.859857&lon=121.438295&dev=1&style=0**","categories":["å°æŠ€å·§"]},{"title":"Node ç‰ˆæœ¬ç®¡ç†å·¥å…·","url":"/2023/04/21/ld/nice_tool_volta/","content":"\n[Volta](https://volta.sh/ \"å®‰è£…æ›¿ä»£nvmç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œç›´æ¥é”å®šé¡¹ç›®çš„nodejsç‰ˆæœ¬\")","tags":["å·¥å…·é“¾æ¥"],"categories":["å°æŠ€å·§"]},{"title":"Navicat Premium 15\\16 é‡ç½®è¯•ç”¨æ—¶é—´","url":"/2023/04/20/ld/navicat_reset/","content":"\n\n- åˆ›å»ºä¸€ä¸ªbat æ–‡ä»¶å³å¯\n\n```bat\n\n\n@echo off\n\necho\\\necho\\\necho é€‚ç”¨äº Navicat V15 V16\necho æ­£åœ¨æ¸…é™¤è¯•ç”¨ä¿¡æ¯ã€‚ã€‚ã€‚\n\nfor /f %%i in ('reg query HKCU\\Software\\Classes\\CLSID') do call:checkDelCLSID %%i\n\n#reg delete HKCR\\NavicatProfileBackup /f 1>nul 2>nul \n#reg delete HKCR\\NavicatProfileBatchJob /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileDataSync /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileExport /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileImport /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileModel /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileStructureSync /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileTransfer /f 1>nul 2>nul\nreg delete HKCU\\Software\\PremiumSoft\\NavicatPremium /f 1>nul 2>nul\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AlreadyShowNavicatV16WelcomeScreen\" /t REG_DWORD  /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AutoCheckUpdate\" /t REG_DWORD /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AlreadyScanDeprecatedReport\" /t REG_DWORD /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium\\Update /v \"LastCheckTime\" /t REG_SZ /d 1 /f\n\nrmdir /S /Q C:\\Users\\XXXX\\Documents\\Navicat\nrmdir /S /Q C:\\Users\\XXXX\\AppData\\Local\\Temp\\NavicatCloud\n\necho\\\necho\\\necho æ¸…é™¤è¯•ç”¨ä¿¡æ¯æˆåŠŸï¼\necho è¯·é‡æ–°è¿è¡ŒNavicatã€‚\necho\\\npause\nexit\n\n\n:checkDelCLSID\necho filtering %1\necho %1|findstr \"{CAFEEFAC-\" 1>nul 2>nul\nset result=%errorlevel%\nif %result%==0 goto:eof\n\necho checking %1\nreg query %1\\Info 1>nul 2>nul\nset result=%errorlevel%\nif %result%==1 goto:eof\n\necho deleteing %1\nreg delete %1 /f 1>nul 2>nul\n\ngoto:eof\n\n\n```\n\n\n```\næ— é™æœŸæ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡\nschtasks /create /tn test_task /tr C:\\wwwroot\\hexo\\gitpull.bat /sc  minute /mo 5  \n```","tags":["code"],"categories":["å°æŠ€å·§"]},{"title":"SwitchHostså°å·¥å…·","url":"/2023/04/19/ld/work/å·¥ä½œä¸Šå‘ç°çš„switchhost/","content":"**SwitchHosts å·¥å…·å¯ä»¥ç›´æ¥ä¿®æ”¹host**\n\né€šè¿‡æ–°å»ºhostç›´æ¥é™„åŠ åˆ°ç°æœ‰çš„hostä¸Š\n\nä½†ä½¿ç”¨çš„æŠ€æœ¯æ˜¯åŸºäºnodejsçš„ Electron å ç”¨èµ„æºä½¿ç”¨èµ·æ¥å¾ˆéš¾å—ï¼Œåªç”¨åœ¨è·‘ç‰¹å®šä»£ç çš„æ—¶å€™å¥½äº†","categories":["å°æŠ€å·§"]},{"title":"Hello World","url":"/2023/03/24/hello-world/","content":"testtesttest\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start \n\n### Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"},{"title":"Hello World2","url":"/2023/03/24/1707269574720/","content":"22\n\nğŸ˜„\n\n33\n\n44\n\n\n| col1 | col2 | col3 |\n| ---- | ---- | ---- |\n|      |      |      |\n|      |      |      |\n\n55\n\n66\n"},{"title":"é€šè¿‡htmlç¼–è¾‘ å°†htmlè½¬åŒ–ä¸ºmarkdown","url":"/2023/01/01/ld/html_to_markdown/","content":"### HTML TO MARKDOWN\n\n[htmlç¼–è¾‘å™¨](https://uutool.cn/ckeditor4/ \"html editor\")\n\n[æˆ‘ä»¬åœ¨htmlé‡Œç¼–è¾‘ç„¶åæŠŠå®ƒè½¬åŒ–æˆmarkdown](https://www.ivtool.com/html-to-markdown/ \"html to markdown\")\n","tags":["å·¥å…·é“¾æ¥"],"categories":["å°æŠ€å·§"]}]