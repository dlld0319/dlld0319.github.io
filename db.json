{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"0b9f1494c68ea98b1f6f8d71afb663611464fcc2","modified":1707274208121},{"_id":"source/_posts/1707269574720.md","hash":"0de94ab3664c6cde66cf510e46c9f6613efc465e","modified":1707294775985},{"_id":"source/tags/index.md","hash":"0ea3a5eb7cee37c2d8a9da228794b661cda8e7b4","modified":1707184401787},{"_id":"source/categories/index.md","hash":"2c48a031176e27e3227631cb3e9611946b457edb","modified":1707184401787},{"_id":"source/about/index.md","hash":"78d6eeabcedee99dd7f382c0d2d5a9a0750ae895","modified":1707184401786},{"_id":"source/_posts/ld/html_to_markdown.md","hash":"912419d592c71a17b487b5737ed714fa73f207d2","modified":1707354910258},{"_id":"source/_posts/ld/navicat_reset.md","hash":"6b4bdcd146ee07046d34d0ac06d609148cba6cac","modified":1707184401783},{"_id":"source/_posts/ld/nice_tool_volta.md","hash":"6acdbc6f1e17f991e760f14649a874417f5f40c8","modified":1707184401783},{"_id":"source/_posts/ld/work/git学习01.md","hash":"51fc41198bbec83ff5de612c77af9c14d289834f","modified":1707283006955},{"_id":"source/_posts/ld/work/工作上发现的switchhost.md","hash":"e24d0ead31c8153c0c37626a27b374a884e084eb","modified":1707184401784},{"_id":"source/_posts/ld/work/js把csv转换xlsx，百万数据量.md","hash":"55fb5744ce356507de65992ce8e54374c2a506df","modified":1707184401783},{"_id":"source/_posts/ld/work/js邮件发送功能实现.md","hash":"e5e5b3e5001189aab6d53835788939159fad5bf2","modified":1707184401784},{"_id":"source/_posts/ld/日常/frp/frp.md","hash":"46f626599591f6d84d66c534bf07c5ace165e907","modified":1707184401785},{"_id":"source/_posts/ld/日常/nodejs学习/js学习02.md","hash":"abe72a782c4c9996a1e420ceb0a38da64f37e592","modified":1707184401785},{"_id":"source/_posts/ld/日常/nodejs学习/js学习01.md","hash":"db213d73aa370f150c8e18edbc33d48f6e1b76a7","modified":1707184401785},{"_id":"source/_posts/ld/日常/nodejs学习/自定义youhou.md","hash":"3b0b177752109cf86207e20f174b3a85485ca2e9","modified":1707184401785},{"_id":"source/_posts/ld/日常/python学习/python学习01.md","hash":"9be247147234db9420296f3cecc6d19d79a11632","modified":1707184401786},{"_id":"source/_posts/ld/日常/sql/postgre01.md","hash":"03693b77751513c02d8ad6c8fc9b5d271ce25924","modified":1707277464802},{"_id":"source/_posts/ld/日常/其它/1707276914900.md","hash":"0441a1e3d756b2b51620d6b5c6a78337dd1456a0","modified":1707277464802},{"_id":"source/_posts/ld/日常/tools/tools01.md","hash":"67a55c6edf04d29eb4154c6444ee86f17ce7074e","modified":1707184680923},{"_id":"source/_posts/ld/日常/其它/docker 打包学习.md","hash":"22f6f55e377b1ff3bd75e5986c14f22d6a1b8627","modified":1707184401784},{"_id":"source/_posts/ld/日常/其它/苹果手机地图使用技巧其1.md","hash":"2d49ea168ae7a6abae090ac8aa46c6211fc0d487","modified":1707184401786},{"_id":"source/_posts/ld/日常/其它/黑苹果装机经验.md","hash":"696c0f62268a3eaec18a90fe3ae7df21a6131f0b","modified":1707184401786},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1707350708106},{"_id":"themes/butterfly/README.md","hash":"4e01b47448d9f3a02afc04eef644e2321253f6f4","modified":1707350708106},{"_id":"themes/butterfly/README_CN.md","hash":"148da187d16033624ceccce8b8561835296f5a5a","modified":1707350708107},{"_id":"themes/butterfly/_config.yml","hash":"41ecfed8b4e062b158cbb8db184ff4a6bbd743df","modified":1707355148219},{"_id":"themes/butterfly/package.json","hash":"5536ed4102cd21ace51478bd11f43db03c040d15","modified":1707350708133},{"_id":"themes/butterfly/plugins.yml","hash":"1f8b5e0a533a59f91d760a5f96e61d81a8a9b7d2","modified":1707350708133},{"_id":"themes/butterfly/languages/default.yml","hash":"90a6dc361de67532437d819a55ec64945ca5404b","modified":1707350708108},{"_id":"themes/butterfly/languages/en.yml","hash":"af5603b1a888f167dc80be6d53a19437b5cf6bef","modified":1707350708108},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"5004faee365139521f161babd66649a8107e4008","modified":1707350708108},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"03629d1d13a7be09d4933aa5dc0dcbe45e79140c","modified":1707350708108},{"_id":"themes/butterfly/layout/archive.pug","hash":"bb32c9c476372de747dfa563b83f77d7a917a77d","modified":1707350708108},{"_id":"themes/butterfly/layout/category.pug","hash":"710708cfdb436bc875602abf096c919ccdf544db","modified":1707350708109},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1707350708132},{"_id":"themes/butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1707350708132},{"_id":"themes/butterfly/layout/post.pug","hash":"fc9f45252d78fcd15e4a82bfd144401cba5b169a","modified":1707350708132},{"_id":"themes/butterfly/layout/page.pug","hash":"baf469784aef227e4cc840550888554588e87a13","modified":1707350708132},{"_id":"themes/butterfly/layout/includes/404.pug","hash":"cb49f737aca272ccfeb62880bd651eccee72a129","modified":1707350708109},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"aca0ec7ef69b21d1f242c62fed389468a0f0e1a2","modified":1707350708109},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"1e2d8d8167b078c85316e9a866e7aa879ada0dc8","modified":1707353713308},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"ecec62305aaa596bb1dfbb46c13d06fb5a9628cf","modified":1707350708109},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"7fa9ae4b70b87fc97e992dde5944681f92b59bea","modified":1707350708113},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"4c85de4dea4dca4e5088097a79bd6d7009cbf8ef","modified":1707350708115},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"db275f7fbe4438b54cd813b695f4834e10aa234f","modified":1707350708115},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"9f0e9e039f304439007460fa0a7c8ac18e0ffd37","modified":1707350708116},{"_id":"themes/butterfly/scripts/events/404.js","hash":"83cd7f73225ccad123afbd526ce1834eb1eb6a6d","modified":1707350708133},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"21fb5aabe043486d095c4c8cce361ed85ba88a26","modified":1707350708133},{"_id":"themes/butterfly/scripts/events/merge_config.js","hash":"2ac43fd4103ba3c6897da7c13015cb05f39fd695","modified":1707350708134},{"_id":"themes/butterfly/scripts/events/init.js","hash":"428b94c7b9e83f7ea36227dee66bfe3c23aee4a8","modified":1707350708134},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"5351e0bc09e6b5b3f6d30f333a2520626a28ca3a","modified":1707350708134},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"e196a99733d7f90899bceed5d12488e8234817d5","modified":1707350708134},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"8ad9911b755cba13dde2cc055c3f857a6b0dd20e","modified":1707350708134},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"a8eef3f37428436554f58a2b6bac7c255fbdf38d","modified":1707350708135},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"860f967ecf3c6a6ea785b560a7aae4d0757cd18a","modified":1707350708135},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1707350708135},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"96f861151e3b889ef0ffe78821d489ad2625ee43","modified":1707350708135},{"_id":"themes/butterfly/scripts/helpers/findArchiveLength.js","hash":"7caf549810f971c34196fb9deac2d992545bdff9","modified":1707350708136},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"4677be4175da6800c0b3b8c1614e593f73df8831","modified":1707350708136},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"d5c7e61257b08a9648404f6f48ce4d471cd5fa55","modified":1707350708136},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"e2a8a09bfe47da26eab242a36f516e6c452c799a","modified":1707350708136},{"_id":"themes/butterfly/scripts/helpers/series.js","hash":"821e973d41f7b3b64cde91e0e836ea49c43e3c06","modified":1707350708136},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"418684993a3a3a2ac534257a2d9ecbcead6808c1","modified":1707350708137},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"93229d44b35b9da92e647b89d6d3087085974a29","modified":1707350708137},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"ab62919fa567b95fbe14889517abda649991b1ee","modified":1707350708137},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"512c68a22ae4a58d6a6b24b368a0c00c2ccb4fcb","modified":1707350708137},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"365db87ddfc582bf8c15cb440c48bed95106e4b1","modified":1707350708137},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"19773218877281ccffed921431e87148413a7c20","modified":1707350708137},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"5c2a07df5874b5377540884e4da14dd21489378f","modified":1707350708138},{"_id":"themes/butterfly/scripts/tag/score.js","hash":"5cb273e95846874e3a58074074c501df23c5e912","modified":1707350708138},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"1acefc59ead75ebd8cafee36efc7da4fa426d088","modified":1707350708138},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"ffc62222f8d7b4d44c1c0726c8a08824a2201039","modified":1707350708138},{"_id":"themes/butterfly/scripts/tag/series.js","hash":"830b1d592278b9f676df0cf9a91b1eeda2456aec","modified":1707350708138},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"4526c75e5bf84609d67e92b6af3524bcb278e852","modified":1707350708139},{"_id":"themes/butterfly/source/css/index.styl","hash":"755490867fd8afe47d5cce24faea2ca172b0c4dd","modified":1707350708150},{"_id":"themes/butterfly/source/css/var.styl","hash":"152b6bd4b6285165541a71f5a1c913f8ee6a602b","modified":1707350708150},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1707350708151},{"_id":"themes/butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1707350708151},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1707350708151},{"_id":"themes/butterfly/source/js/main.js","hash":"0dac585446445e0c419b86eec5580bc9b0657dc6","modified":1707350708152},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"f8d2e3f31468991a7f5171cbfdb157dfb86d3372","modified":1707350708153},{"_id":"themes/butterfly/source/js/utils.js","hash":"8e6b48d294e7aeaba8ff6348c43b2271cf865547","modified":1707350708153},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"67e1c3b48e4ca7ee0b2c76d3ca7476b9883cf105","modified":1707350708110},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"8aa8d799aedbfd811195b84a451bc4b6e2647c12","modified":1707350708110},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"63fed4548367a3663cdbaffa1df48167b0a2397b","modified":1707350708110},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1707350708111},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"7df90c8e432e33716517ab918b0a125bc284041b","modified":1707350708110},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"5208fe1e75d97a05fd9bdd6cc53c59d8b741b94b","modified":1707350708111},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1707350708111},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1707350708111},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"9e8c5788602b29a527ef35fe8a20076a5fa969bd","modified":1707350708113},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"6ab4e301c92586505d6cddce1b3ad23b7c79010d","modified":1707350708113},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"131f344d68b4c241d6e03849b243ee792fcd3cea","modified":1707350708113},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"50d1b08367f709e5416140043933e79cd8d77559","modified":1707350708114},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"90554c2ca5ba946f4c02e1bc5fe2859cef1b1594","modified":1707350708113},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"944d6e9dd50df3395f3a2c7ad9db667d50dea4ed","modified":1707350708112},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"31346a210f4f9912c5b29f51d8f659913492f388","modified":1707350708112},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"f61659aa457d1a2d1baa3a13157996cfac4d6609","modified":1707350708112},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"a5c7d362ae63474c1a4e3eb5cd09804b3684e984","modified":1707350708112},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"5de9a82032cdad1db3b868b797460921cd775fc2","modified":1707350708112},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1707350708114},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1707350708114},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"f9ce83978b217a71a2eb8761dc14b09866faa3f4","modified":1707350708114},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"9621991359e22b14049346f1cf87bdedc94edf5a","modified":1707350708115},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"5574804fdea5edf7fd52aad2caf030614d5e7f2f","modified":1707350708115},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"a096ff8eb6b2a22395be881f827ff2a686ba5596","modified":1707350708115},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1707350708116},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"1d39670ee6225f85f5c53bf5c84f3fd6e19290e8","modified":1707350708122},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1707350708125},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1707350708125},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"12e57491e94fa00d953bbda9db0b6d6169e2358c","modified":1707350708125},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"8044b9c18b34b019ffe26b7383e7e80356b5e4b5","modified":1707350708128},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1707350708128},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1707350708128},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1707350708128},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1707350708129},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"03c6afabbf1ac729c7fb21c7ec06da0190b0fdc7","modified":1707350708129},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1707350708130},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"7834bf7c711e739fd33cfcd0b53d151013b3d449","modified":1707350708130},{"_id":"themes/butterfly/layout/includes/widget/card_post_series.pug","hash":"bd5ad01277f8c6ddf8a3a29af1518e5fe6eed23f","modified":1707350708130},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"a658a274c5f7896ee5122725bee45548693bdd66","modified":1707350708130},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"eceb4420a64c720f0d2741e89d6229bbb3d87353","modified":1707350708131},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"e5aac7b28ed4123d75797263c64e74ac547945bc","modified":1707350708131},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1707350708131},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"35ce167c5a275211bfc1fa3d49adfde5b404d98f","modified":1707350708131},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"66f7a8b0cebc05c575ec3cb70b08d6854029d87a","modified":1707350708131},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"f19694a42dbe28eda4b39a1696e8fbcd277bc76c","modified":1707350708140},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"c8ff6ddd5bfe1190b7b8056b68ce41114fd79dcb","modified":1707350708140},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"4dcd468e4d11a0ac75406162678feffcd89fee00","modified":1707350708140},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"bcd384c8b2aa0390c9eb69ac1abbfd1240ce1da4","modified":1707350708142},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1707350708146},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"c9e98027f2dd730ce389c2047f62ebb748955fcf","modified":1707350708146},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1707350708146},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"4e320e16d49bc18085045937681f7331a1e243ca","modified":1707350708146},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"98d755b686ee833e9da10afaa40c4ec2bd66c19a","modified":1707350708146},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"d4ebc41b5c855dd75f47de7345d62f85ce7cf073","modified":1707350708147},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1707350708147},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"fad650f88778b33a6358e38cf50dfafc0974d28f","modified":1707350708142},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"f9a5d3f1fc5ed0ed2ee4c1eaa58ed650d11ddebd","modified":1707350708142},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"134811b2d696f9ed2c0cd578f3886f1c60770c0a","modified":1707350708143},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"cee2df3da358815dafcf6007270d87f393abf8a6","modified":1707352403668},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"83a7a70eb0532ea9c4267939fe484af915fca01e","modified":1707350708143},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"ac2aeee9926f75b2a0098efe1c114126987430f2","modified":1707350708143},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"fb9f78bfbb79579f1d752cb73fb6d25c8418e0fd","modified":1707350708144},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"a2eb44fa5eaea1325319a2064439cf36d0f35a2f","modified":1707350708144},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"d53de408cb27a2e704aba7f7402b7caebe0410d8","modified":1707350708144},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"d6cf26ffb8a0343eda1cde65b6b73b0ddbe8fcfc","modified":1707350708144},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"f845b9b4efdee750f70c023aab27432611f83059","modified":1707350708144},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"b7a6a585dbc38d177c9aba75df3a467415d0488a","modified":1707350708145},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"5556c9bf4f53a90cb9b4945cd76a8849bd67f3f3","modified":1707350708145},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"649a054e73278b6724bd4dd9b94724791ec5c928","modified":1707350708147},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"20a3134e1302b62bfc881f4ec43f398267111f22","modified":1707350708147},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"961589da3c0a532c4709a4a4ea96bd579257f766","modified":1707350708148},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"0db591a1f4ed5adcb8668a549bbee5c9d62682cf","modified":1707350708145},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"e549d24ad81a7d93326a509ff8dcfcc58c80729e","modified":1707350708145},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"45f0c32bdea117540f6b14ebac6450d7142bd710","modified":1707350708148},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1707350708148},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"5cddbb5f4eae695a26685e415d821b523e0f17bf","modified":1707350708148},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"ce489ca2e249e2a3cf71584e20d84bdb022e3475","modified":1707350708149},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1707350708149},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1707350708149},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"909bb5079b26b6ee68177919f522566503654058","modified":1707350708149},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"2d02e52b360f6e6cae47c293ae57ed78e2554663","modified":1707350708149},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"f071156d439556e7463ed4bc61ceee87170d5d08","modified":1707350708150},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1707350708150},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"108988d046da9a4716148df43b3975217c8ceaae","modified":1707350708152},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"e1f60ebac53a3f596fd0a4769b4f9275c48c6542","modified":1707350708152},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"f7299f9fef5bf94bb58c8cd3be8ee660ad2f9cd4","modified":1707350708116},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/index.pug","hash":"f58f1648d2d71311bafca4833f20b605bb5f18c8","modified":1707350708116},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"5f86add36eeffbed61d11f08972a13697b4d9437","modified":1707350708116},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"c5f7081ca29db8cc80f808dfc29e36d5fa22fd7e","modified":1707350708117},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"0344477a2cf38698318ead2681c63ac12f01586e","modified":1707350708117},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"b2d274db84ef22fbd6d5ea8f4404821898934209","modified":1707350708117},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"56c028ba0ea8fac19f0125114d765dfc56ce2b48","modified":1707350708117},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1707350708118},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"001e8be47854b891efe04013c240c38fed4185eb","modified":1707350708117},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"3a5ccfc69bd8ccb4b8f3ce3502023f7914f2a022","modified":1707350708118},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"ddce8352b371a1fb426bdb6c33f587eb37a69647","modified":1707350708118},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"2fb098a7aa45010a8cd212dc0bd5308c6e7c63e3","modified":1707350708118},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"9b57a8e13de8fc51a5f550854e47164fd8ac1be8","modified":1707350708119},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"618e1b7f9204049b07beb9e1363c844a78a9ace3","modified":1707350708119},{"_id":"themes/butterfly/layout/includes/third-party/chat/messenger.pug","hash":"e39a9c37adf4cb15a2ba3b2cc65542ffea88650d","modified":1707350708119},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"dd61eca6e9a45f63e09bdefba89fe285a81ba096","modified":1707350708119},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"5c2bf7d7a4b9df3fb2794b0b32e96158f0de673f","modified":1707350708119},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"62f16a602e57e5f7f7c5249dd37b42d436dc032a","modified":1707350708120},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"46aec6466959baec1c3d71a5dbc510fbeb00c91d","modified":1707350708120},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"3bc4c1b91568561f0491bdac65b75aa0bfd01f27","modified":1707350708120},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"2d7b0b09678adba09481e3152e0b32962677f650","modified":1707350708120},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"0d378ee8a671982a46213a4bfb223b4f3409aea9","modified":1707350708120},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"a9709905593d960954e2dd572f09f48a6c2b1ef7","modified":1707350708121},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"00ed91c52939b9675b316137f854d13684c895a6","modified":1707350708121},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"63cea2b5c8f7b59f5919379d61a2bb2ce8ed7623","modified":1707350708121},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"f15699abb8c7a255aabad0222ae53eee387c66a3","modified":1707350708121},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"894bf60ff5170cf1e4f276a8cedaf8301bceb824","modified":1707350708121},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"1995a654ba7ad62775a0a6e2922209cd1a85f2e3","modified":1707350708122},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"46865e3f52096acb07d0212174b4e8751b123aea","modified":1707350708122},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"9b70eea4b1ff083e2b8769493a5b5aea71a02318","modified":1707350708122},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1707350708123},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"6b67982bb7a3713b5bffd6a23ba2810425c504d0","modified":1707350708123},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"dfcbd9881be569ea420eff1a6b00e4f4dbe2138e","modified":1707350708123},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"fc072ac839401174b5d3cf9acd3b694246c23a55","modified":1707350708123},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"9a3617f5e90c4e4176aa2ee2e904c22466e9663b","modified":1707350708123},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"2609bc2656aaaa9b59e8d575e711776512a62192","modified":1707350708124},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"de2c4d02b520dd49a0a59fc0f33295e5bbb2c624","modified":1707350708124},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"0f0b46d637a9a1b6ae35148923abecc80b866276","modified":1707350708124},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"4ec0642f2d5444acfab570a6f8c7868e7ff43fde","modified":1707350708124},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"4104f96faa6040f111ebfb9a90eeb470857c3b86","modified":1707350708124},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"24804ab6da9727ed793655c1262fa3f1a9746f70","modified":1707350708125},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"1f9f51023e9e33081c2add2ca73643c0edc5e9d5","modified":1707350708125},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"9c3c109a12d2b6916e8b4965cca12f521510ead9","modified":1707350708126},{"_id":"themes/butterfly/layout/includes/third-party/search/docsearch.pug","hash":"b928be14d1b47a9fadb1bcc5f5072a7328752d4b","modified":1707350708126},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"a99a41334387ee9a46c6f8e8212331a29a10d159","modified":1707350708126},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"3335024ba91f55ccf3858571b7898f46881c455c","modified":1707350708127},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1707350708127},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"3ba49cfe186e9ca05faf9f0d0113611ec47e9b38","modified":1707350708127},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"c7dd2b2ae9b23aa0a60fffd7df9e9f76ef52033e","modified":1707350708127},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1707350708140},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1707350708141},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"5dc2e0bcae9a54bfb9bdcc82d02ae5a3cf1ca97d","modified":1707350708141},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"18804c58239d95798fa86d0597f32d7f7dd30051","modified":1707350708141},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"25914321762e30aacc610bc4dfb9de3e1cb556a3","modified":1707350708141},{"_id":"themes/butterfly/.github/FUNDING.yml","hash":"da5e77f5e0cdb7e11b36546fb6796d10e3dfbe5d","modified":1707351324960},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"6e34b565ea013812d5e363b6de5fa1f9078d4e12","modified":1707351324960},{"_id":"themes/butterfly/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1707351324961},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"7b4831ae8f8f8c55dd1b856781210c517c63e6dd","modified":1707351324960},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"996640605ed1e8e35182f0fd9a60a88783b24b03","modified":1707351324961},{"_id":"themes/butterfly/.github/workflows/stale.yml","hash":"ac62b989b5550c756e1986fcc68f243170705383","modified":1707351324961}],"Category":[{"name":"小技巧","_id":"clscgre6e0006d8rufz23ci1q"},{"name":"code js","_id":"clscgre6m000td8ru3hq3h7bv"},{"name":"code python","_id":"clscgre6u0018d8ru39swelrr"},{"name":"小工具","_id":"clscgre6v001dd8rues59appg"},{"name":"Sql","_id":"clscgre6w001gd8ru7dvt2lg7"},{"name":"docker","_id":"clscgre6w001jd8ru6umyf37o"}],"Data":[],"Page":[{"title":"分类","date":"2023-03-24T02:13:47.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2023-03-24 10:13:47\ntype: \"categories\"\n---\n","path":"categories/index.html","comments":1,"layout":"page","_id":"clscgre650000d8ru6rp62oz6","content":"","site":{"data":{}},"cover":false,"excerpt":"","more":""},{"title":"about","date":"2023-03-24T02:55:53.000Z","type":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2023-03-24 10:55:53\ntype: \"about\"\n---\n","path":"about/index.html","comments":1,"layout":"page","_id":"clscgre6b0002d8ru430fa203","content":"","site":{"data":{}},"cover":false,"excerpt":"","more":""},{"title":"tags","date":"2023-03-24T02:55:53.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-03-24 10:55:53\ntype: \"tags\"\n---\n","path":"tags/index.html","comments":1,"layout":"page","_id":"clscgre6d0004d8rubxpe9m3u","content":"","site":{"data":{}},"cover":false,"excerpt":"","more":""}],"Post":[{"title":"Hello World","date":"2023-03-24T02:55:53.000Z","excerpt":"Welcome to [Hexo](https://hexo.io/)! This is your very","_content":"testtesttest\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start \n\n### Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2023-03-24 10:55:53\nexcerpt: Welcome to [Hexo](https://hexo.io/)! This is your very\n---\ntesttesttest\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start \n\n### Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre680001d8rugv7kb5sx","content":"<p>testtesttest</p>\n<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"cover":false,"more":"<p>testtesttest</p>\n<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"通过html编辑 将html转化为markdown","date":"2022-12-31T16:00:00.000Z","excerpt":"HTML TO MARKDOWN","_content":"### HTML TO MARKDOWN\n\n[html编辑器](https://uutool.cn/ckeditor4/ \"html editor\")\n\n[我们在html里编辑然后把它转化成markdown](https://www.ivtool.com/html-to-markdown/ \"html to markdown\")\n","source":"_posts/ld/html_to_markdown.md","raw":"---\ntitle: 通过html编辑 将html转化为markdown\ndate: 2023-01-01\ncategories:\n- 小技巧\ntags:\n- 工具链接\nexcerpt: HTML TO MARKDOWN\n---\n### HTML TO MARKDOWN\n\n[html编辑器](https://uutool.cn/ckeditor4/ \"html editor\")\n\n[我们在html里编辑然后把它转化成markdown](https://www.ivtool.com/html-to-markdown/ \"html to markdown\")\n","slug":"ld/html_to_markdown","published":1,"_id":"clscgre6c0003d8ruak7oe3zr","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"HTML-TO-MARKDOWN\"><a href=\"#HTML-TO-MARKDOWN\" class=\"headerlink\" title=\"HTML TO MARKDOWN\"></a>HTML TO MARKDOWN</h3><p><a href=\"https://uutool.cn/ckeditor4/\" title=\"html editor\">html编辑器</a></p>\n<p><a href=\"https://www.ivtool.com/html-to-markdown/\" title=\"html to markdown\">我们在html里编辑然后把它转化成markdown</a></p>\n","site":{"data":{}},"cover":false,"more":"<h3 id=\"HTML-TO-MARKDOWN\"><a href=\"#HTML-TO-MARKDOWN\" class=\"headerlink\" title=\"HTML TO MARKDOWN\"></a>HTML TO MARKDOWN</h3><p><a href=\"https://uutool.cn/ckeditor4/\" title=\"html editor\">html编辑器</a></p>\n<p><a href=\"https://www.ivtool.com/html-to-markdown/\" title=\"html to markdown\">我们在html里编辑然后把它转化成markdown</a></p>\n"},{"title":"Navicat Premium 15\\16 重置试用时间","date":"2023-04-20T16:00:00.000Z","excerpt":"bat 文件即可","_content":"\n\n- 创建一个bat 文件即可\n\n```bat\n\n\n@echo off\n\necho\\\necho\\\necho 适用于 Navicat V15 V16\necho 正在清除试用信息。。。\n\nfor /f %%i in ('reg query HKCU\\Software\\Classes\\CLSID') do call:checkDelCLSID %%i\n\n#reg delete HKCR\\NavicatProfileBackup /f 1>nul 2>nul \n#reg delete HKCR\\NavicatProfileBatchJob /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileDataSync /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileExport /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileImport /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileModel /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileStructureSync /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileTransfer /f 1>nul 2>nul\nreg delete HKCU\\Software\\PremiumSoft\\NavicatPremium /f 1>nul 2>nul\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AlreadyShowNavicatV16WelcomeScreen\" /t REG_DWORD  /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AutoCheckUpdate\" /t REG_DWORD /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AlreadyScanDeprecatedReport\" /t REG_DWORD /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium\\Update /v \"LastCheckTime\" /t REG_SZ /d 1 /f\n\nrmdir /S /Q C:\\Users\\XXXX\\Documents\\Navicat\nrmdir /S /Q C:\\Users\\XXXX\\AppData\\Local\\Temp\\NavicatCloud\n\necho\\\necho\\\necho 清除试用信息成功！\necho 请重新运行Navicat。\necho\\\npause\nexit\n\n\n:checkDelCLSID\necho filtering %1\necho %1|findstr \"{CAFEEFAC-\" 1>nul 2>nul\nset result=%errorlevel%\nif %result%==0 goto:eof\n\necho checking %1\nreg query %1\\Info 1>nul 2>nul\nset result=%errorlevel%\nif %result%==1 goto:eof\n\necho deleteing %1\nreg delete %1 /f 1>nul 2>nul\n\ngoto:eof\n\n\n```\n\n\n```\n无限期每5分钟执行一次\nschtasks /create /tn test_task /tr C:\\wwwroot\\hexo\\gitpull.bat /sc  minute /mo 5  \n```","source":"_posts/ld/navicat_reset.md","raw":"---\ntitle: Navicat Premium 15\\16 重置试用时间\ndate: 2023-04-21\ncategories:\n- 小技巧\ntags:\n- code\nexcerpt: bat 文件即可\n---\n\n\n- 创建一个bat 文件即可\n\n```bat\n\n\n@echo off\n\necho\\\necho\\\necho 适用于 Navicat V15 V16\necho 正在清除试用信息。。。\n\nfor /f %%i in ('reg query HKCU\\Software\\Classes\\CLSID') do call:checkDelCLSID %%i\n\n#reg delete HKCR\\NavicatProfileBackup /f 1>nul 2>nul \n#reg delete HKCR\\NavicatProfileBatchJob /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileDataSync /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileExport /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileImport /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileModel /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileStructureSync /f 1>nul 2>nul\n#reg delete HKCR\\NavicatProfileTransfer /f 1>nul 2>nul\nreg delete HKCU\\Software\\PremiumSoft\\NavicatPremium /f 1>nul 2>nul\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AlreadyShowNavicatV16WelcomeScreen\" /t REG_DWORD  /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AutoCheckUpdate\" /t REG_DWORD /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v \"AlreadyScanDeprecatedReport\" /t REG_DWORD /d 1 /f\nreg add HKCU\\Software\\PremiumSoft\\NavicatPremium\\Update /v \"LastCheckTime\" /t REG_SZ /d 1 /f\n\nrmdir /S /Q C:\\Users\\XXXX\\Documents\\Navicat\nrmdir /S /Q C:\\Users\\XXXX\\AppData\\Local\\Temp\\NavicatCloud\n\necho\\\necho\\\necho 清除试用信息成功！\necho 请重新运行Navicat。\necho\\\npause\nexit\n\n\n:checkDelCLSID\necho filtering %1\necho %1|findstr \"{CAFEEFAC-\" 1>nul 2>nul\nset result=%errorlevel%\nif %result%==0 goto:eof\n\necho checking %1\nreg query %1\\Info 1>nul 2>nul\nset result=%errorlevel%\nif %result%==1 goto:eof\n\necho deleteing %1\nreg delete %1 /f 1>nul 2>nul\n\ngoto:eof\n\n\n```\n\n\n```\n无限期每5分钟执行一次\nschtasks /create /tn test_task /tr C:\\wwwroot\\hexo\\gitpull.bat /sc  minute /mo 5  \n```","slug":"ld/navicat_reset","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6d0005d8rudsumabp5","content":"<ul>\n<li>创建一个bat 文件即可</li>\n</ul>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">@<span class=\"built_in\">echo</span> off</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 适用于 Navicat V15 V16</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 正在清除试用信息。。。</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> /f <span class=\"variable\">%%i</span> <span class=\"keyword\">in</span> (&#x27;reg query HKCU\\Software\\Classes\\CLSID&#x27;) <span class=\"keyword\">do</span> <span class=\"keyword\">call</span>:checkDelCLSID <span class=\"variable\">%%i</span></span><br><span class=\"line\"></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileBackup /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span> </span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileBatchJob /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileDataSync /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileExport /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileImport /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileModel /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileStructureSync /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileTransfer /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">reg delete HKCU\\Software\\PremiumSoft\\NavicatPremium /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v &quot;AlreadyShowNavicatV16WelcomeScreen&quot; /t REG_DWORD  /d <span class=\"number\">1</span> /f</span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v &quot;AutoCheckUpdate&quot; /t REG_DWORD /d <span class=\"number\">1</span> /f</span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v &quot;AlreadyScanDeprecatedReport&quot; /t REG_DWORD /d <span class=\"number\">1</span> /f</span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium\\Update /v &quot;LastCheckTime&quot; /t REG_SZ /d <span class=\"number\">1</span> /f</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">rmdir</span> /S /Q C:\\Users\\XXXX\\Documents\\Navicat</span><br><span class=\"line\"><span class=\"built_in\">rmdir</span> /S /Q C:\\Users\\XXXX\\AppData\\Local\\Temp\\NavicatCloud</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 清除试用信息成功！</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 请重新运行Navicat。</span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">pause</span></span><br><span class=\"line\"><span class=\"keyword\">exit</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:checkDelCLSID</span><br><span class=\"line\"><span class=\"built_in\">echo</span> filtering %<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> %<span class=\"number\">1</span>|<span class=\"built_in\">findstr</span> &quot;&#123;CAFEEFAC-&quot; <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> result=<span class=\"variable\">%errorlevel%</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%result%</span>==<span class=\"number\">0</span> <span class=\"keyword\">goto</span>:eof</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> checking %<span class=\"number\">1</span></span><br><span class=\"line\">reg query %<span class=\"number\">1</span>\\Info <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> result=<span class=\"variable\">%errorlevel%</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%result%</span>==<span class=\"number\">1</span> <span class=\"keyword\">goto</span>:eof</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> deleteing %<span class=\"number\">1</span></span><br><span class=\"line\">reg delete %<span class=\"number\">1</span> /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">goto:<span class=\"title\">eof</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">无限期每5分钟执行一次</span><br><span class=\"line\">schtasks /create /tn test_task /tr C:\\wwwroot\\hexo\\gitpull.bat /sc  minute /mo 5  </span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<ul>\n<li>创建一个bat 文件即可</li>\n</ul>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">@<span class=\"built_in\">echo</span> off</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 适用于 Navicat V15 V16</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 正在清除试用信息。。。</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> /f <span class=\"variable\">%%i</span> <span class=\"keyword\">in</span> (&#x27;reg query HKCU\\Software\\Classes\\CLSID&#x27;) <span class=\"keyword\">do</span> <span class=\"keyword\">call</span>:checkDelCLSID <span class=\"variable\">%%i</span></span><br><span class=\"line\"></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileBackup /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span> </span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileBatchJob /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileDataSync /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileExport /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileImport /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileModel /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileStructureSync /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">#reg delete HKCR\\NavicatProfileTransfer /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">reg delete HKCU\\Software\\PremiumSoft\\NavicatPremium /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v &quot;AlreadyShowNavicatV16WelcomeScreen&quot; /t REG_DWORD  /d <span class=\"number\">1</span> /f</span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v &quot;AutoCheckUpdate&quot; /t REG_DWORD /d <span class=\"number\">1</span> /f</span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium /v &quot;AlreadyScanDeprecatedReport&quot; /t REG_DWORD /d <span class=\"number\">1</span> /f</span><br><span class=\"line\">reg add HKCU\\Software\\PremiumSoft\\NavicatPremium\\Update /v &quot;LastCheckTime&quot; /t REG_SZ /d <span class=\"number\">1</span> /f</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">rmdir</span> /S /Q C:\\Users\\XXXX\\Documents\\Navicat</span><br><span class=\"line\"><span class=\"built_in\">rmdir</span> /S /Q C:\\Users\\XXXX\\AppData\\Local\\Temp\\NavicatCloud</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 清除试用信息成功！</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 请重新运行Navicat。</span><br><span class=\"line\"><span class=\"built_in\">echo</span>\\</span><br><span class=\"line\"><span class=\"built_in\">pause</span></span><br><span class=\"line\"><span class=\"keyword\">exit</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">:checkDelCLSID</span><br><span class=\"line\"><span class=\"built_in\">echo</span> filtering %<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> %<span class=\"number\">1</span>|<span class=\"built_in\">findstr</span> &quot;&#123;CAFEEFAC-&quot; <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> result=<span class=\"variable\">%errorlevel%</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%result%</span>==<span class=\"number\">0</span> <span class=\"keyword\">goto</span>:eof</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> checking %<span class=\"number\">1</span></span><br><span class=\"line\">reg query %<span class=\"number\">1</span>\\Info <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> result=<span class=\"variable\">%errorlevel%</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%result%</span>==<span class=\"number\">1</span> <span class=\"keyword\">goto</span>:eof</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> deleteing %<span class=\"number\">1</span></span><br><span class=\"line\">reg delete %<span class=\"number\">1</span> /f <span class=\"number\">1</span>&gt;<span class=\"built_in\">nul</span> <span class=\"number\">2</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">goto:<span class=\"title\">eof</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">无限期每5分钟执行一次</span><br><span class=\"line\">schtasks /create /tn test_task /tr C:\\wwwroot\\hexo\\gitpull.bat /sc  minute /mo 5  </span><br></pre></td></tr></table></figure>"},{"title":"Node 版本管理工具","date":"2023-04-21T16:00:00.000Z","excerpt":"安装替代nvm版本管理工具","_content":"\n[Volta](https://volta.sh/ \"安装替代nvm版本管理工具，直接锁定项目的nodejs版本\")","source":"_posts/ld/nice_tool_volta.md","raw":"---\ntitle: Node 版本管理工具\ndate: 2023-04-22\ncategories:\n- 小技巧\ntags:\n- 工具链接\nexcerpt: 安装替代nvm版本管理工具\n---\n\n[Volta](https://volta.sh/ \"安装替代nvm版本管理工具，直接锁定项目的nodejs版本\")","slug":"ld/nice_tool_volta","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6f0008d8ru655c7urw","content":"<p><a href=\"https://volta.sh/\" title=\"安装替代nvm版本管理工具，直接锁定项目的nodejs版本\">Volta</a></p>\n","site":{"data":{}},"cover":false,"more":"<p><a href=\"https://volta.sh/\" title=\"安装替代nvm版本管理工具，直接锁定项目的nodejs版本\">Volta</a></p>\n"},{"title":"git排除追踪","date":"2023-05-18T16:00:00.000Z","excerpt":"两种隐藏提交放式","_content":"- 一种是直接在.gitignore中声明，这种所有人都受影响，并且不自由\n- 另一种是在隐藏文件.git 下 info文件夹 的exclude文件种增加相对路径，个人隐藏这种很舒服\n- 但是两种方法都是在文件上传后必须从仓库提交一次删除才能排除在项目外了\n\n1\n","source":"_posts/ld/work/git学习01.md","raw":"---\ntitle: git排除追踪\ndate: 2023-05-19\ncategories:\n- 小技巧\nexcerpt: 两种隐藏提交放式\n---\n- 一种是直接在.gitignore中声明，这种所有人都受影响，并且不自由\n- 另一种是在隐藏文件.git 下 info文件夹 的exclude文件种增加相对路径，个人隐藏这种很舒服\n- 但是两种方法都是在文件上传后必须从仓库提交一次删除才能排除在项目外了\n\n1\n","slug":"ld/work/git学习01","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6g0009d8ru7n2zbn4j","content":"<ul>\n<li>一种是直接在.gitignore中声明，这种所有人都受影响，并且不自由</li>\n<li>另一种是在隐藏文件.git 下 info文件夹 的exclude文件种增加相对路径，个人隐藏这种很舒服</li>\n<li>但是两种方法都是在文件上传后必须从仓库提交一次删除才能排除在项目外了</li>\n</ul>\n<p>1</p>\n","site":{"data":{}},"cover":false,"more":"<ul>\n<li>一种是直接在.gitignore中声明，这种所有人都受影响，并且不自由</li>\n<li>另一种是在隐藏文件.git 下 info文件夹 的exclude文件种增加相对路径，个人隐藏这种很舒服</li>\n<li>但是两种方法都是在文件上传后必须从仓库提交一次删除才能排除在项目外了</li>\n</ul>\n<p>1</p>\n"},{"title":"Hello World2","date":"2023-03-24T02:55:53.000Z","excerpt":"Welcome to [Hexo](https://hexo.io/)! This is your very","_content":"22\n\n😄\n\n33\n\n44\n\n\n| col1 | col2 | col3 |\n| ---- | ---- | ---- |\n|      |      |      |\n|      |      |      |\n\n55\n\n66\n","source":"_posts/1707269574720.md","raw":"---\ntitle: Hello World2\ndate: 2023-03-24 10:55:53\nexcerpt: Welcome to [Hexo](https://hexo.io/)! This is your very\n---\n22\n\n😄\n\n33\n\n44\n\n\n| col1 | col2 | col3 |\n| ---- | ---- | ---- |\n|      |      |      |\n|      |      |      |\n\n55\n\n66\n","slug":"1707269574720","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6g000ad8ru70ev3872","content":"<p>22</p>\n<p>😄</p>\n<p>33</p>\n<p>44</p>\n<table>\n<thead>\n<tr>\n<th>col1</th>\n<th>col2</th>\n<th>col3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>55</p>\n<p>66</p>\n","site":{"data":{}},"cover":false,"more":"<p>22</p>\n<p>😄</p>\n<p>33</p>\n<p>44</p>\n<table>\n<thead>\n<tr>\n<th>col1</th>\n<th>col2</th>\n<th>col3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>55</p>\n<p>66</p>\n"},{"title":"js 转换 csv to xlsx","date":"2023-06-26T16:00:00.000Z","excerpt":"csv to xlsx","_content":"引用两个包\n```shell\nnpm i yarn\nyarn add node-xlsx\nyarn add csv-parse\n```\n\n代码\n\n```js\nconst fs = require(\"fs\");\nconst { parse } = require(\"csv-parse\");\nconst xlsx = require('node-xlsx');\ninputUrl='./name.csv';\noutputUrl='./name.xlsx';\nmaxNum=99999;\nlet rows = [];\nlet excelArr = []\nfunction formatToExcel(id,row0,rowsAll){\n    let writeRow=[Object.keys(row0)];\n    rowsAll.forEach((ois)=>{\n        const arr=[];\n        for (const key in ois) {\n            arr.push(ois[key]);\n        }\n        writeRow.push(arr);\n    });\n    excelArr.push({name:'sheet'+id,data:writeRow});\n}\n\nnew Promise(async (resolve, reject) => {\n    let ids=0;\n    fs.createReadStream(inputUrl)\n        .pipe(parse({ columns: true, relax_quotes: true, escape: '\\\"', ltrim: true, rtrim: true }))\n        .on(\"data\", function (row) {\n            rows.push(row);\n            if(rows.length>=maxNum){\n                formatToExcel(ids,row,rows);\n                rows=[];\n                ids++;\n                console.log('第'+ ids+'次 读取10w条数据');\n            }\n        })\n        .on(\"end\", function () {\n            formatToExcel(ids,rows[0],rows);\n            console.log(\"已全部读取\");\n            resolve('finished')\n        })\n        .on(\"error\", function (error) {\n            console.log(error.message);\n            reject(error)\n        });\n}).then(o => {\n    console.log('正在转换为excel，请稍后...\\n---------------- 数据量越大时间越长');\n    var buffer=xlsx.build(excelArr);\n    console.log('正在输出excel，请稍后...\\n---------------- 数据量越大时间越长');\n    fs.writeFile(outputUrl,buffer,function(err){\n        console.log('转换完成，'+(err?'导出时可能出现问题，':'')+'请检查导出文件核对数据');\n    })\n}\n).catch(o=>{\n    console.log(o);\n})\n\n\n\n```","source":"_posts/ld/work/js把csv转换xlsx，百万数据量.md","raw":"---\ntitle: js 转换 csv to xlsx\ndate: 2023-06-27\ncategories:\n- 小技巧\nexcerpt: csv to xlsx\n---\n引用两个包\n```shell\nnpm i yarn\nyarn add node-xlsx\nyarn add csv-parse\n```\n\n代码\n\n```js\nconst fs = require(\"fs\");\nconst { parse } = require(\"csv-parse\");\nconst xlsx = require('node-xlsx');\ninputUrl='./name.csv';\noutputUrl='./name.xlsx';\nmaxNum=99999;\nlet rows = [];\nlet excelArr = []\nfunction formatToExcel(id,row0,rowsAll){\n    let writeRow=[Object.keys(row0)];\n    rowsAll.forEach((ois)=>{\n        const arr=[];\n        for (const key in ois) {\n            arr.push(ois[key]);\n        }\n        writeRow.push(arr);\n    });\n    excelArr.push({name:'sheet'+id,data:writeRow});\n}\n\nnew Promise(async (resolve, reject) => {\n    let ids=0;\n    fs.createReadStream(inputUrl)\n        .pipe(parse({ columns: true, relax_quotes: true, escape: '\\\"', ltrim: true, rtrim: true }))\n        .on(\"data\", function (row) {\n            rows.push(row);\n            if(rows.length>=maxNum){\n                formatToExcel(ids,row,rows);\n                rows=[];\n                ids++;\n                console.log('第'+ ids+'次 读取10w条数据');\n            }\n        })\n        .on(\"end\", function () {\n            formatToExcel(ids,rows[0],rows);\n            console.log(\"已全部读取\");\n            resolve('finished')\n        })\n        .on(\"error\", function (error) {\n            console.log(error.message);\n            reject(error)\n        });\n}).then(o => {\n    console.log('正在转换为excel，请稍后...\\n---------------- 数据量越大时间越长');\n    var buffer=xlsx.build(excelArr);\n    console.log('正在输出excel，请稍后...\\n---------------- 数据量越大时间越长');\n    fs.writeFile(outputUrl,buffer,function(err){\n        console.log('转换完成，'+(err?'导出时可能出现问题，':'')+'请检查导出文件核对数据');\n    })\n}\n).catch(o=>{\n    console.log(o);\n})\n\n\n\n```","slug":"ld/work/js把csv转换xlsx，百万数据量","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6i000ed8rucgsv6s4l","content":"<p>引用两个包</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i yarn</span><br><span class=\"line\">yarn add node-xlsx</span><br><span class=\"line\">yarn add csv-parse</span><br></pre></td></tr></table></figure>\n\n<p>代码</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;fs&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; parse &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;csv-parse&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> xlsx = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;node-xlsx&#x27;</span>);</span><br><span class=\"line\">inputUrl=<span class=\"string\">&#x27;./name.csv&#x27;</span>;</span><br><span class=\"line\">outputUrl=<span class=\"string\">&#x27;./name.xlsx&#x27;</span>;</span><br><span class=\"line\">maxNum=<span class=\"number\">99999</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> rows = [];</span><br><span class=\"line\"><span class=\"keyword\">let</span> excelArr = []</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">formatToExcel</span>(<span class=\"params\">id,row0,rowsAll</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> writeRow=[<span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(row0)];</span><br><span class=\"line\">    rowsAll.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">ois</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> arr=[];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> key <span class=\"keyword\">in</span> ois) &#123;</span><br><span class=\"line\">            arr.<span class=\"title function_\">push</span>(ois[key]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        writeRow.<span class=\"title function_\">push</span>(arr);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    excelArr.<span class=\"title function_\">push</span>(&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;sheet&#x27;</span>+id,<span class=\"attr\">data</span>:writeRow&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">async</span> (resolve, reject) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> ids=<span class=\"number\">0</span>;</span><br><span class=\"line\">    fs.<span class=\"title function_\">createReadStream</span>(inputUrl)</span><br><span class=\"line\">        .<span class=\"title function_\">pipe</span>(<span class=\"title function_\">parse</span>(&#123; <span class=\"attr\">columns</span>: <span class=\"literal\">true</span>, <span class=\"attr\">relax_quotes</span>: <span class=\"literal\">true</span>, <span class=\"attr\">escape</span>: <span class=\"string\">&#x27;\\&quot;&#x27;</span>, <span class=\"attr\">ltrim</span>: <span class=\"literal\">true</span>, <span class=\"attr\">rtrim</span>: <span class=\"literal\">true</span> &#125;))</span><br><span class=\"line\">        .<span class=\"title function_\">on</span>(<span class=\"string\">&quot;data&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">row</span>) &#123;</span><br><span class=\"line\">            rows.<span class=\"title function_\">push</span>(row);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(rows.<span class=\"property\">length</span>&gt;=maxNum)&#123;</span><br><span class=\"line\">                <span class=\"title function_\">formatToExcel</span>(ids,row,rows);</span><br><span class=\"line\">                rows=[];</span><br><span class=\"line\">                ids++;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;第&#x27;</span>+ ids+<span class=\"string\">&#x27;次 读取10w条数据&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .<span class=\"title function_\">on</span>(<span class=\"string\">&quot;end&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">formatToExcel</span>(ids,rows[<span class=\"number\">0</span>],rows);</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;已全部读取&quot;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;finished&#x27;</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .<span class=\"title function_\">on</span>(<span class=\"string\">&quot;error&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">error</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error.<span class=\"property\">message</span>);</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">o</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;正在转换为excel，请稍后...\\n---------------- 数据量越大时间越长&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> buffer=xlsx.<span class=\"title function_\">build</span>(excelArr);</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;正在输出excel，请稍后...\\n---------------- 数据量越大时间越长&#x27;</span>);</span><br><span class=\"line\">    fs.<span class=\"title function_\">writeFile</span>(outputUrl,buffer,<span class=\"keyword\">function</span>(<span class=\"params\">err</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;转换完成，&#x27;</span>+(err?<span class=\"string\">&#x27;导出时可能出现问题，&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>)+<span class=\"string\">&#x27;请检查导出文件核对数据&#x27;</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">o</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(o);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<p>引用两个包</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i yarn</span><br><span class=\"line\">yarn add node-xlsx</span><br><span class=\"line\">yarn add csv-parse</span><br></pre></td></tr></table></figure>\n\n<p>代码</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;fs&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; parse &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;csv-parse&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> xlsx = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;node-xlsx&#x27;</span>);</span><br><span class=\"line\">inputUrl=<span class=\"string\">&#x27;./name.csv&#x27;</span>;</span><br><span class=\"line\">outputUrl=<span class=\"string\">&#x27;./name.xlsx&#x27;</span>;</span><br><span class=\"line\">maxNum=<span class=\"number\">99999</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> rows = [];</span><br><span class=\"line\"><span class=\"keyword\">let</span> excelArr = []</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">formatToExcel</span>(<span class=\"params\">id,row0,rowsAll</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> writeRow=[<span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(row0)];</span><br><span class=\"line\">    rowsAll.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">ois</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> arr=[];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> key <span class=\"keyword\">in</span> ois) &#123;</span><br><span class=\"line\">            arr.<span class=\"title function_\">push</span>(ois[key]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        writeRow.<span class=\"title function_\">push</span>(arr);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    excelArr.<span class=\"title function_\">push</span>(&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;sheet&#x27;</span>+id,<span class=\"attr\">data</span>:writeRow&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">async</span> (resolve, reject) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> ids=<span class=\"number\">0</span>;</span><br><span class=\"line\">    fs.<span class=\"title function_\">createReadStream</span>(inputUrl)</span><br><span class=\"line\">        .<span class=\"title function_\">pipe</span>(<span class=\"title function_\">parse</span>(&#123; <span class=\"attr\">columns</span>: <span class=\"literal\">true</span>, <span class=\"attr\">relax_quotes</span>: <span class=\"literal\">true</span>, <span class=\"attr\">escape</span>: <span class=\"string\">&#x27;\\&quot;&#x27;</span>, <span class=\"attr\">ltrim</span>: <span class=\"literal\">true</span>, <span class=\"attr\">rtrim</span>: <span class=\"literal\">true</span> &#125;))</span><br><span class=\"line\">        .<span class=\"title function_\">on</span>(<span class=\"string\">&quot;data&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">row</span>) &#123;</span><br><span class=\"line\">            rows.<span class=\"title function_\">push</span>(row);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(rows.<span class=\"property\">length</span>&gt;=maxNum)&#123;</span><br><span class=\"line\">                <span class=\"title function_\">formatToExcel</span>(ids,row,rows);</span><br><span class=\"line\">                rows=[];</span><br><span class=\"line\">                ids++;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;第&#x27;</span>+ ids+<span class=\"string\">&#x27;次 读取10w条数据&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .<span class=\"title function_\">on</span>(<span class=\"string\">&quot;end&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">formatToExcel</span>(ids,rows[<span class=\"number\">0</span>],rows);</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;已全部读取&quot;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;finished&#x27;</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .<span class=\"title function_\">on</span>(<span class=\"string\">&quot;error&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">error</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error.<span class=\"property\">message</span>);</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">o</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;正在转换为excel，请稍后...\\n---------------- 数据量越大时间越长&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> buffer=xlsx.<span class=\"title function_\">build</span>(excelArr);</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;正在输出excel，请稍后...\\n---------------- 数据量越大时间越长&#x27;</span>);</span><br><span class=\"line\">    fs.<span class=\"title function_\">writeFile</span>(outputUrl,buffer,<span class=\"keyword\">function</span>(<span class=\"params\">err</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;转换完成，&#x27;</span>+(err?<span class=\"string\">&#x27;导出时可能出现问题，&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>)+<span class=\"string\">&#x27;请检查导出文件核对数据&#x27;</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">o</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(o);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"title":"SwitchHosts小工具","date":"2023-04-19T16:00:00.000Z","excerpt":"SwitchHosts","_content":"**SwitchHosts 工具可以直接修改host**\n\n通过新建host直接附加到现有的host上\n\n但使用的技术是基于nodejs的 Electron 占用资源使用起来很难受，只用在跑特定代码的时候好了","source":"_posts/ld/work/工作上发现的switchhost.md","raw":"---\ntitle: SwitchHosts小工具\ndate: 2023-04-20\ncategories:\n- 小技巧\nexcerpt: SwitchHosts\n---\n**SwitchHosts 工具可以直接修改host**\n\n通过新建host直接附加到现有的host上\n\n但使用的技术是基于nodejs的 Electron 占用资源使用起来很难受，只用在跑特定代码的时候好了","slug":"ld/work/工作上发现的switchhost","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6j000fd8ru0sde32l3","content":"<p><strong>SwitchHosts 工具可以直接修改host</strong></p>\n<p>通过新建host直接附加到现有的host上</p>\n<p>但使用的技术是基于nodejs的 Electron 占用资源使用起来很难受，只用在跑特定代码的时候好了</p>\n","site":{"data":{}},"cover":false,"more":"<p><strong>SwitchHosts 工具可以直接修改host</strong></p>\n<p>通过新建host直接附加到现有的host上</p>\n<p>但使用的技术是基于nodejs的 Electron 占用资源使用起来很难受，只用在跑特定代码的时候好了</p>\n"},{"title":"js 发送邮件","date":"2023-05-22T07:11:00.000Z","excerpt":"js node mailer 发送邮件","_content":"**如题**\n```js\nfunction(){\n    options.from = '@126.com';\n        const transporter = createTransport({\n          port: 465,\n          secure: true, // secure:true for port 465, secure:false   for port 587\n          auth: {\n            user: '@126.com',\n            pass: '' // QQ邮箱需要使用授权码\n          },\n          host: 'smtp.126.com'\n        });\n        transporter.sendMail(options, (error, info) => {\n          if (error) {\n            return console.log(error);\n          }\n          console.log(`Message: ${info.messageId}`);\n          console.log(`sent: ${info.response}`);\n        });\n}\n```","source":"_posts/ld/work/js邮件发送功能实现.md","raw":"---\ntitle: js 发送邮件\ndate: 2023-05-22 15:11:00\ncategories:\n- 小技巧\nexcerpt: js node mailer 发送邮件\n---\n**如题**\n```js\nfunction(){\n    options.from = '@126.com';\n        const transporter = createTransport({\n          port: 465,\n          secure: true, // secure:true for port 465, secure:false   for port 587\n          auth: {\n            user: '@126.com',\n            pass: '' // QQ邮箱需要使用授权码\n          },\n          host: 'smtp.126.com'\n        });\n        transporter.sendMail(options, (error, info) => {\n          if (error) {\n            return console.log(error);\n          }\n          console.log(`Message: ${info.messageId}`);\n          console.log(`sent: ${info.response}`);\n        });\n}\n```","slug":"ld/work/js邮件发送功能实现","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6k000jd8ruhoufda67","content":"<p><strong>如题</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    options.<span class=\"property\">from</span> = <span class=\"string\">&#x27;@126.com&#x27;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> transporter = <span class=\"title function_\">createTransport</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">port</span>: <span class=\"number\">465</span>,</span><br><span class=\"line\">          <span class=\"attr\">secure</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// secure:true for port 465, secure:false   for port 587</span></span><br><span class=\"line\">          <span class=\"attr\">auth</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">user</span>: <span class=\"string\">&#x27;@126.com&#x27;</span>,</span><br><span class=\"line\">            <span class=\"attr\">pass</span>: <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// QQ邮箱需要使用授权码</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"attr\">host</span>: <span class=\"string\">&#x27;smtp.126.com&#x27;</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        transporter.<span class=\"title function_\">sendMail</span>(options, <span class=\"function\">(<span class=\"params\">error, info</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (error) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Message: <span class=\"subst\">$&#123;info.messageId&#125;</span>`</span>);</span><br><span class=\"line\">          <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`sent: <span class=\"subst\">$&#123;info.response&#125;</span>`</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<p><strong>如题</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    options.<span class=\"property\">from</span> = <span class=\"string\">&#x27;@126.com&#x27;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> transporter = <span class=\"title function_\">createTransport</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">port</span>: <span class=\"number\">465</span>,</span><br><span class=\"line\">          <span class=\"attr\">secure</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// secure:true for port 465, secure:false   for port 587</span></span><br><span class=\"line\">          <span class=\"attr\">auth</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">user</span>: <span class=\"string\">&#x27;@126.com&#x27;</span>,</span><br><span class=\"line\">            <span class=\"attr\">pass</span>: <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// QQ邮箱需要使用授权码</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"attr\">host</span>: <span class=\"string\">&#x27;smtp.126.com&#x27;</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        transporter.<span class=\"title function_\">sendMail</span>(options, <span class=\"function\">(<span class=\"params\">error, info</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (error) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Message: <span class=\"subst\">$&#123;info.messageId&#125;</span>`</span>);</span><br><span class=\"line\">          <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`sent: <span class=\"subst\">$&#123;info.response&#125;</span>`</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"frp内网穿透设置","date":"2023-05-22T07:17:00.000Z","excerpt":"frps frpc","_content":"\nfrps.ini\n```shell\n[common]\nbind_port = 7000\ntoken = 12345678\n```\n启动 \n```shell\nfrps -c frps.ini\n```\n\nfrpc.ini\n```shell\n[common]\nserver_addr = ip\nserver_port = 7000\ntoken = 12345678\n\n[ssh]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 3389\nremote_port = 7005\n\n# 多端口穿透\n[range:FTP]\ntype = tcp\nlocal_port = 21,50000-50010\nremote_port = 2121,10000-10010\nlocal_ip = 127.0.0.1\n\n# http穿透\n[web1]\ntype = http\nlocal_port = 8080\ncustom_domains = xxx.xxx.xxx.xxx # 服务器ip\nlocations = / # eg：http://xxx.xxx.xxx.xxx/yolo/test\n```\n\n客户端启动\n```shell\nfrpc -c frpc.ini\n```\n\n\nlinux可以持久后台运行\n```\nnohup ./frpc -c frpc.ini >/dev/null 2>&1 &\nnohup ./frps -c frps.ini >/dev/null 2>&1 &\n```\n---------\n下载地址\n\n\n**[https://github.com/fatedier/frp/releases](https://github.com/fatedier/frp/releases)**","source":"_posts/ld/日常/frp/frp.md","raw":"---\ntitle: frp内网穿透设置\ndate: 2023-05-22 15:17:00\ncategories:\n- 小技巧\nexcerpt: frps frpc\n---\n\nfrps.ini\n```shell\n[common]\nbind_port = 7000\ntoken = 12345678\n```\n启动 \n```shell\nfrps -c frps.ini\n```\n\nfrpc.ini\n```shell\n[common]\nserver_addr = ip\nserver_port = 7000\ntoken = 12345678\n\n[ssh]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 3389\nremote_port = 7005\n\n# 多端口穿透\n[range:FTP]\ntype = tcp\nlocal_port = 21,50000-50010\nremote_port = 2121,10000-10010\nlocal_ip = 127.0.0.1\n\n# http穿透\n[web1]\ntype = http\nlocal_port = 8080\ncustom_domains = xxx.xxx.xxx.xxx # 服务器ip\nlocations = / # eg：http://xxx.xxx.xxx.xxx/yolo/test\n```\n\n客户端启动\n```shell\nfrpc -c frpc.ini\n```\n\n\nlinux可以持久后台运行\n```\nnohup ./frpc -c frpc.ini >/dev/null 2>&1 &\nnohup ./frps -c frps.ini >/dev/null 2>&1 &\n```\n---------\n下载地址\n\n\n**[https://github.com/fatedier/frp/releases](https://github.com/fatedier/frp/releases)**","slug":"ld/日常/frp/frp","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6l000md8ru04gceefq","content":"<p>frps.ini</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7000</span><br><span class=\"line\">token = 12345678</span><br></pre></td></tr></table></figure>\n<p>启动 </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frps -c frps.ini</span><br></pre></td></tr></table></figure>\n\n<p>frpc.ini</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = ip</span><br><span class=\"line\">server_port = 7000</span><br><span class=\"line\">token = 12345678</span><br><span class=\"line\"></span><br><span class=\"line\">[ssh]</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 3389</span><br><span class=\"line\">remote_port = 7005</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">多端口穿透</span></span><br><span class=\"line\">[range:FTP]</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_port = 21,50000-50010</span><br><span class=\"line\">remote_port = 2121,10000-10010</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">http穿透</span></span><br><span class=\"line\">[web1]</span><br><span class=\"line\">type = http</span><br><span class=\"line\">local_port = 8080</span><br><span class=\"line\">custom_domains = xxx.xxx.xxx.xxx # 服务器ip</span><br><span class=\"line\">locations = / # eg：http://xxx.xxx.xxx.xxx/yolo/test</span><br></pre></td></tr></table></figure>\n\n<p>客户端启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frpc -c frpc.ini</span><br></pre></td></tr></table></figure>\n\n\n<p>linux可以持久后台运行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nohup ./frpc -c frpc.ini &gt;/dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\">nohup ./frps -c frps.ini &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n<hr>\n<p>下载地址</p>\n<p><strong><a href=\"https://github.com/fatedier/frp/releases\">https://github.com/fatedier/frp/releases</a></strong></p>\n","site":{"data":{}},"cover":false,"more":"<p>frps.ini</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7000</span><br><span class=\"line\">token = 12345678</span><br></pre></td></tr></table></figure>\n<p>启动 </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frps -c frps.ini</span><br></pre></td></tr></table></figure>\n\n<p>frpc.ini</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = ip</span><br><span class=\"line\">server_port = 7000</span><br><span class=\"line\">token = 12345678</span><br><span class=\"line\"></span><br><span class=\"line\">[ssh]</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 3389</span><br><span class=\"line\">remote_port = 7005</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">多端口穿透</span></span><br><span class=\"line\">[range:FTP]</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_port = 21,50000-50010</span><br><span class=\"line\">remote_port = 2121,10000-10010</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">http穿透</span></span><br><span class=\"line\">[web1]</span><br><span class=\"line\">type = http</span><br><span class=\"line\">local_port = 8080</span><br><span class=\"line\">custom_domains = xxx.xxx.xxx.xxx # 服务器ip</span><br><span class=\"line\">locations = / # eg：http://xxx.xxx.xxx.xxx/yolo/test</span><br></pre></td></tr></table></figure>\n\n<p>客户端启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frpc -c frpc.ini</span><br></pre></td></tr></table></figure>\n\n\n<p>linux可以持久后台运行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nohup ./frpc -c frpc.ini &gt;/dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\">nohup ./frps -c frps.ini &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n<hr>\n<p>下载地址</p>\n<p><strong><a href=\"https://github.com/fatedier/frp/releases\">https://github.com/fatedier/frp/releases</a></strong></p>\n"},{"title":"nodejs 读取excel 处理数据 并导出","date":"2023-05-18T16:00:00.000Z","excerpt":"nodejs 读取excel 并生成新的文件","_content":"*nodejs 读取excel 并生成新的excel文件*\n\n``` js\n// 引入 node-xlsx 模块\nconst xlsx = require('node-xlsx')\nvar fs=require('fs')\n\n// excel文件类径\nconst excelFilePath = './up.xlsx'\n\nconst sheets = xlsx.parse(excelFilePath);\n\nconst sheet = sheets[0];\nconsole.log(sheet);\n\n// 打印页面数据\nconsole.log(sheet.data);\n\n// 输出每行内容 在这里处理数据\nsheet.data.map(row => {\n    console.log(row);\n\trow[4]=row[2];\n    // 数组格式, 根据不同的索引取数据\n})\nlet excelArr = [\n\t{\n\t\t//data里面是数据，一个数组一行\n\t\t//column这一行是因为例子里需要一个头\n\t\tname: \"sheet\", data: sheet.data\n\t}\n]\nvar buffer=xlsx.build(excelArr);\nfs.writeFile('./write.xlsx',buffer,function(err){\n  console.log(err)\n})\n```","source":"_posts/ld/日常/nodejs学习/js学习02.md","raw":"---\ntitle: nodejs 读取excel 处理数据 并导出\ndate: 2023-05-19\ncategories:\n- code js\nexcerpt: nodejs 读取excel 并生成新的文件\n---\n*nodejs 读取excel 并生成新的excel文件*\n\n``` js\n// 引入 node-xlsx 模块\nconst xlsx = require('node-xlsx')\nvar fs=require('fs')\n\n// excel文件类径\nconst excelFilePath = './up.xlsx'\n\nconst sheets = xlsx.parse(excelFilePath);\n\nconst sheet = sheets[0];\nconsole.log(sheet);\n\n// 打印页面数据\nconsole.log(sheet.data);\n\n// 输出每行内容 在这里处理数据\nsheet.data.map(row => {\n    console.log(row);\n\trow[4]=row[2];\n    // 数组格式, 根据不同的索引取数据\n})\nlet excelArr = [\n\t{\n\t\t//data里面是数据，一个数组一行\n\t\t//column这一行是因为例子里需要一个头\n\t\tname: \"sheet\", data: sheet.data\n\t}\n]\nvar buffer=xlsx.build(excelArr);\nfs.writeFile('./write.xlsx',buffer,function(err){\n  console.log(err)\n})\n```","slug":"ld/日常/nodejs学习/js学习02","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6l000od8rudgfs5e5y","content":"<p><em>nodejs 读取excel 并生成新的excel文件</em></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 引入 node-xlsx 模块</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> xlsx = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;node-xlsx&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs=<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// excel文件类径</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> excelFilePath = <span class=\"string\">&#x27;./up.xlsx&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sheets = xlsx.<span class=\"title function_\">parse</span>(excelFilePath);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sheet = sheets[<span class=\"number\">0</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sheet);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 打印页面数据</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sheet.<span class=\"property\">data</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 输出每行内容 在这里处理数据</span></span><br><span class=\"line\">sheet.<span class=\"property\">data</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">row</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(row);</span><br><span class=\"line\">\trow[<span class=\"number\">4</span>]=row[<span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"comment\">// 数组格式, 根据不同的索引取数据</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> excelArr = [</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//data里面是数据，一个数组一行</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//column这一行是因为例子里需要一个头</span></span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;sheet&quot;</span>, <span class=\"attr\">data</span>: sheet.<span class=\"property\">data</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"><span class=\"keyword\">var</span> buffer=xlsx.<span class=\"title function_\">build</span>(excelArr);</span><br><span class=\"line\">fs.<span class=\"title function_\">writeFile</span>(<span class=\"string\">&#x27;./write.xlsx&#x27;</span>,buffer,<span class=\"keyword\">function</span>(<span class=\"params\">err</span>)&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<p><em>nodejs 读取excel 并生成新的excel文件</em></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 引入 node-xlsx 模块</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> xlsx = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;node-xlsx&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs=<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// excel文件类径</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> excelFilePath = <span class=\"string\">&#x27;./up.xlsx&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sheets = xlsx.<span class=\"title function_\">parse</span>(excelFilePath);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sheet = sheets[<span class=\"number\">0</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sheet);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 打印页面数据</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sheet.<span class=\"property\">data</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 输出每行内容 在这里处理数据</span></span><br><span class=\"line\">sheet.<span class=\"property\">data</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">row</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(row);</span><br><span class=\"line\">\trow[<span class=\"number\">4</span>]=row[<span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"comment\">// 数组格式, 根据不同的索引取数据</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> excelArr = [</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//data里面是数据，一个数组一行</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//column这一行是因为例子里需要一个头</span></span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;sheet&quot;</span>, <span class=\"attr\">data</span>: sheet.<span class=\"property\">data</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"><span class=\"keyword\">var</span> buffer=xlsx.<span class=\"title function_\">build</span>(excelArr);</span><br><span class=\"line\">fs.<span class=\"title function_\">writeFile</span>(<span class=\"string\">&#x27;./write.xlsx&#x27;</span>,buffer,<span class=\"keyword\">function</span>(<span class=\"params\">err</span>)&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>"},{"title":"js 自己写油猴","date":"2023-05-24T16:00:00.000Z","excerpt":"js 慢慢完成","_content":"\n```js\n//jianshu\nsetInterval(o=>{\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-1].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-2].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-3].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-4].innerHTML='';\n         document.getElementsByTagName('div')[document.getElementsByTagName('div').length-5].innerHTML='';\n            document.getElementsByTagName('div')[document.getElementsByTagName('div').length-7].innerHTML='';\n            document.getElementById('note').style='display:none';\n            document.getElementsByTagName('iframe')[0].style='display:none';\n        },8);\n```","source":"_posts/ld/日常/nodejs学习/自定义youhou.md","raw":"---\ntitle: js 自己写油猴\ndate: 2023-05-25\ncategories:\n- code js\nexcerpt: js 慢慢完成\n---\n\n```js\n//jianshu\nsetInterval(o=>{\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-1].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-2].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-3].innerHTML='';\n        document.getElementsByTagName('div')[document.getElementsByTagName('div').length-4].innerHTML='';\n         document.getElementsByTagName('div')[document.getElementsByTagName('div').length-5].innerHTML='';\n            document.getElementsByTagName('div')[document.getElementsByTagName('div').length-7].innerHTML='';\n            document.getElementById('note').style='display:none';\n            document.getElementsByTagName('iframe')[0].style='display:none';\n        },8);\n```","slug":"ld/日常/nodejs学习/自定义youhou","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6m000rd8ru0lxx5dph","content":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//jianshu</span></span><br><span class=\"line\"><span class=\"built_in\">setInterval</span>(<span class=\"function\"><span class=\"params\">o</span>=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">1</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">2</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">3</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">4</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">         <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">5</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">7</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;note&#x27;</span>).<span class=\"property\">style</span>=<span class=\"string\">&#x27;display:none&#x27;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;iframe&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"property\">style</span>=<span class=\"string\">&#x27;display:none&#x27;</span>;</span><br><span class=\"line\">        &#125;,<span class=\"number\">8</span>);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//jianshu</span></span><br><span class=\"line\"><span class=\"built_in\">setInterval</span>(<span class=\"function\"><span class=\"params\">o</span>=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">1</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">2</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">3</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">4</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">         <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">5</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>)[<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;div&#x27;</span>).<span class=\"property\">length</span>-<span class=\"number\">7</span>].<span class=\"property\">innerHTML</span>=<span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;note&#x27;</span>).<span class=\"property\">style</span>=<span class=\"string\">&#x27;display:none&#x27;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;iframe&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"property\">style</span>=<span class=\"string\">&#x27;display:none&#x27;</span>;</span><br><span class=\"line\">        &#125;,<span class=\"number\">8</span>);</span><br></pre></td></tr></table></figure>"},{"title":"js 自动增加A-Z","date":"2023-05-18T16:00:00.000Z","excerpt":"js 自动增加A-Z","_content":"\n**自动增加A-Z**\n最多只支持到Z 后边需要自己写代码将Z之后堵死，或者到不了这么多就不用堵了\n优雅最重要\n\n```js\n\n\n//需要A之后的第几个\nconst num=\nString.fromCharCode('A'.charCodeAt(0) + num)\n\n\n```","source":"_posts/ld/日常/nodejs学习/js学习01.md","raw":"---\ntitle: js 自动增加A-Z\ndate: 2023-05-19\ncategories:\n- code js\nexcerpt: js 自动增加A-Z\n---\n\n**自动增加A-Z**\n最多只支持到Z 后边需要自己写代码将Z之后堵死，或者到不了这么多就不用堵了\n优雅最重要\n\n```js\n\n\n//需要A之后的第几个\nconst num=\nString.fromCharCode('A'.charCodeAt(0) + num)\n\n\n```","slug":"ld/日常/nodejs学习/js学习01","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6n000ud8rugvkecg47","content":"<p><strong>自动增加A-Z</strong><br>最多只支持到Z 后边需要自己写代码将Z之后堵死，或者到不了这么多就不用堵了<br>优雅最重要</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//需要A之后的第几个</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num=</span><br><span class=\"line\"><span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(<span class=\"string\">&#x27;A&#x27;</span>.<span class=\"title function_\">charCodeAt</span>(<span class=\"number\">0</span>) + num)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<p><strong>自动增加A-Z</strong><br>最多只支持到Z 后边需要自己写代码将Z之后堵死，或者到不了这么多就不用堵了<br>优雅最重要</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//需要A之后的第几个</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num=</span><br><span class=\"line\"><span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(<span class=\"string\">&#x27;A&#x27;</span>.<span class=\"title function_\">charCodeAt</span>(<span class=\"number\">0</span>) + num)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"title":"python requests 增加header","date":"2023-05-18T16:00:00.000Z","excerpt":"python requests 增加header","_content":"**python requests 增加header**\n\n```python\n\nimport requests\nimport json\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',\n    \"Cookie\": \"MUSIC_A_T=1569983286727; \"\n}\n# https://music.163.com/#/my/m/music/playlist?id=3010181459\nx = requests.get('https://music.163.com/#/playlist?id=3010181459',headers=headers)\nprint(x.text);\n\n```","source":"_posts/ld/日常/python学习/python学习01.md","raw":"---\ntitle: python requests 增加header\ndate: 2023-05-19\ncategories:\n- code python\nexcerpt: python requests 增加header\n---\n**python requests 增加header**\n\n```python\n\nimport requests\nimport json\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',\n    \"Cookie\": \"MUSIC_A_T=1569983286727; \"\n}\n# https://music.163.com/#/my/m/music/playlist?id=3010181459\nx = requests.get('https://music.163.com/#/playlist?id=3010181459',headers=headers)\nprint(x.text);\n\n```","slug":"ld/日常/python学习/python学习01","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6n000wd8ru81lofu7k","content":"<p><strong>python requests 增加header</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\">headers = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;User-Agent&#x27;</span>: <span class=\"string\">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;Cookie&quot;</span>: <span class=\"string\">&quot;MUSIC_A_T=1569983286727; &quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># https://music.163.com/#/my/m/music/playlist?id=3010181459</span></span><br><span class=\"line\">x = requests.get(<span class=\"string\">&#x27;https://music.163.com/#/playlist?id=3010181459&#x27;</span>,headers=headers)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(x.text);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<p><strong>python requests 增加header</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\">headers = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;User-Agent&#x27;</span>: <span class=\"string\">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;Cookie&quot;</span>: <span class=\"string\">&quot;MUSIC_A_T=1569983286727; &quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># https://music.163.com/#/my/m/music/playlist?id=3010181459</span></span><br><span class=\"line\">x = requests.get(<span class=\"string\">&#x27;https://music.163.com/#/playlist?id=3010181459&#x27;</span>,headers=headers)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(x.text);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"title":"搭配静态博客增加一个管理页面","date":"2024-02-07T03:00:00.000Z","excerpt":"简明且精彩的设计","_content":"> 部分代码 H5部分\n\n```html\n<div id=\"app\">\n        <div class=\"spinner-border\" role=\"status\" v-if=\"!loading\">\n            <span class=\"visually-hidden\">Loading...</span>\n        </div>\n        <div v-else style=\"padding: 20px;\">\n            <div v-if=\"!fileUrl&&!newFile\">\n                <button type=\"button\" class=\"btn btn-light\" @click=\"init()\">重新加载</button>\n                <button type=\"button\" class=\"btn btn-light\" @click=\"back()\">后退</button>\n                <button type=\"button\" class=\"btn btn-light\" @click=\"addFile()\">新建（默认为该目录下）</button>\n                <div>当前路径{{lujing}}</div>\n                <table class=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#序号</th>\n                            <th scope=\"col\">文件名称</th>\n                            <th scope=\"col\" style=\"max-width: 150px;\">路径</th>\n                            <th scope=\"col\">文件类型</th>\n                            <th>操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(item,index) in mdList\" :key=\"index\">\n                            <th scope=\"row\">{{index+1}}</th>\n                            <td>{{item.name}}</td>\n                            <td style=\"max-width: 250px; overflow-x: auto;\">{{item.download_url}}</td>\n                            <td>{{item.type}}</td>\n                            <td>\n                                <button v-if=\"item.type=='dir'\" class=\"btn btn-light\"\n                                    @click=\"nextDir(item.path)\">下一层</button>\n                                <button type=\"button\" class=\"btn btn-light\" v-if=\"item.type!='dir'\"\n                                    @click=\"editFile(item.download_url);sha=item.sha;editPath=item.path\">编辑</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div v-if=\"newFile\" class=\"mb-3\">\n                <label for=\"exampleFormControlInput1\" class=\"form-label\">请输入文件路径</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"请输入文件路径\"\n                    :value=\"newFile\">\n            </div>\n            <div v-if=\"fileUrl||newFile\" id=\"vditor\"></div>\n            <div v-if=\"fileUrl||newFile\" style=\"margin-left: 80%;\">\n                <button type=\"button\" class=\"btn btn-success\" @click=\"save()\" style=\"margin-right: 10px;\">保存</button>\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"close()\">关闭</button>\n            </div>\n        </div>\n    </div>\n```\n\n> js 部分\n\n```js\nimport { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';\n    import { Octokit, App } from \"https://esm.sh/octokit\";\n\n    createApp({\n        data() {\n            return {\n                loading: false,\n                owner: '',\n                repo: '',\n                branch: '',\n                path: 'source/_posts',\n                token: '',\n                user_name: '@126.com',\n                email: '@126.com',\n                getContentUrl: '',\n                adddocUrl: '',\n                /*MD文件的列表*/\n                mdList: [],\n                /*加载MD文件，并进行编辑*/\n                fileUrl: '',\n                contentEditor: '',\n                lujing: '',\n                sha: '',\n                editPath: '',\n                newFile: '',\n            }\n        },\n        async created() {\n            await this.init();\n            this.loading = true;\n        },\n        methods: {\n            async get(url) {\n                return new Promise((resolve, reject) => {\n                    fetch('https://api.github.com' + url).then(res => {\n                        res.json().then(res => {\n                            resolve(res)\n\n                        })\n                    })\n                })\n            },\n            async post(url, data) {\n                return new Promise((resolve, reject) => {\n                    fetch('https://api.github.com' + url, { method: 'POST', body: data }).then(res => {\n                        res.json().then(res => {\n                            resolve(res)\n                        })\n                    })\n                })\n            },\n            getContentUrlFunction() {\n                this.getContentUrl = `/repos/${this.owner}/${this.repo}/contents/${this.path}?ref=${this.branch}`\n            },\n            async init() {\n                this.getContentUrlFunction();\n                const result = await this.get(this.getContentUrl);\n                this.mdList = result;\n                console.log(this.mdList);\n                if (this.mdList.find(b => b.type == 'file')) {\n                    this.lujing = this.mdList.find(b => b.type == 'file').path.substr(0, this.mdList.find(b => b.type == 'file').path.lastIndexOf('/'))\n                } else {\n                    this.lujing = this.mdList.find(b => b.type == 'dir').path.substr(0, this.mdList.find(b => b.type == 'dir').path.lastIndexOf('/'))\n                }\n            },\n            nextDir(path) {\n                this.path = path;\n                this.init();\n            },\n            async streamToString(stream) {\n                const reader = stream.getReader();\n                let result = '';\n                while (true) {\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n                    result += value;\n                }\n                return result;\n            },\n            async editFile(url) {\n                this.fileUrl = url;\n                const dec = new TextDecoder(\"UTF-8\");\n                const str = await new Promise(async (resolve, reject) => {\n                    fetch(this.fileUrl).then(async response => {\n                        var str = await this.streamToString(response.body)\n                        console.log(dec.decode(new Uint8Array(str.split(','))))\n                        resolve(dec.decode(new Uint8Array(str.split(','))))\n                    })\n                })\n                this.contentEditor = new Vditor('vditor', {\n                    height: 800,\n                    toolbarConfig: {\n                        pin: true,\n                    },\n                    cache: {\n                        enable: false,\n                    },\n                    after: () => {\n                        this.contentEditor.setValue(str)\n                    },\n                })\n            },\n            save() {\n                this.upload();\n            },\n            close() {\n                this.fileUrl = '';\n                this.newFile = '';\n            },\n            back() {\n                this.path = this.path.substr(0, this.path.lastIndexOf('/'));\n                this.init();\n            },\n            adddoc(file) {\n                this.adddocUrl = `/repos/${this.owner}/${this.repo}/contents/${this.path}?ref=${this.branch}`\n                return `/repos/${this.owner}/${this.repo}/contents/${this.editPath}?ref=${this.branch}`\n            },\n            async upload() {\n                var loading =weui.loading('保存中',2000);\n                var Upurl = this.adddoc();\n                var sha = '';\n                var hpp_githubgetdocinit = {\n                    method: \"GET\",\n                    headers: {\n                        \"content-type\": \"application/json;charset=UTF-8\",\n                        \"user-agent\": \"HexoPlusPlus@1.2.0\",\n                        \"Authorization\": \"token \" + this.token\n                    },\n                }\n                sha = await new Promise((resolve) => {\n                    fetch('https://api.github.com' + Upurl, hpp_githubgetdocinit).then(res => {\n                        res.json().then(res => {\n                            resolve(res.sha);\n                        })\n                    })\n                })\n                const octokit = new Octokit({\n                    auth: this.token\n                });\n                if (this.newFile) {\n                    let base64 = btoa(String.fromCharCode(...new TextEncoder().encode(this.contentEditor.getValue())))\n\n                    await octokit.request('PUT /repos/{owner}/{repo}/contents/{path}', {\n                        owner: this.owner,\n                        repo: this.repo,\n                        path: this.lujing + '/' + this.newFile,\n                        message: \"message \" + new Date().getTime(),\n                        committer: {\n                            name: this.user_name,\n                            email: this.email\n                        },\n                        content: base64,\n                        headers: {\n                            'X-GitHub-Api-Version': '2022-11-28'\n                        }\n                    })\n                } else {\n                    let base64 = btoa(String.fromCharCode(...new TextEncoder().encode(this.contentEditor.getValue())))\n                    await octokit.request('PUT /repos/{owner}/{repo}/contents/{path}', {\n                        owner: this.owner,\n                        repo: this.repo,\n                        path: this.editPath,\n                        message: \"message \" + new Date().getTime(),\n                        committer: {\n                            name: this.user_name,\n                            email: this.email\n                        },\n                        content: base64,\n                        sha: sha,\n                        headers: {\n                            'X-GitHub-Api-Version': '2022-11-28'\n                        }\n                    })\n                }\n                loading.hide();\n                weui.toast('操作成功', 3000)\n                this.close();\n        },\n        async addFile() {\n            this.newFile = new Date().getTime() + '.md';\n            setTimeout(() => {\n                this.contentEditor = new Vditor('vditor', {\n                    height: 800,\n                    toolbarConfig: {\n                        pin: true,\n                    },\n                    cache: {\n                        enable: false,\n                    },\n                    after: () => {\n                        this.contentEditor.setValue('')\n                    },\n                })\n            }, 100);\n        },\n\n    }\n    }).mount('#app')\n```\n","source":"_posts/ld/日常/其它/1707276914900.md","raw":"---\ntitle: 搭配静态博客增加一个管理页面\ndate: 2024-02-07 11:00:00\ncategories:\n- 小工具\nexcerpt: 简明且精彩的设计\n---\n> 部分代码 H5部分\n\n```html\n<div id=\"app\">\n        <div class=\"spinner-border\" role=\"status\" v-if=\"!loading\">\n            <span class=\"visually-hidden\">Loading...</span>\n        </div>\n        <div v-else style=\"padding: 20px;\">\n            <div v-if=\"!fileUrl&&!newFile\">\n                <button type=\"button\" class=\"btn btn-light\" @click=\"init()\">重新加载</button>\n                <button type=\"button\" class=\"btn btn-light\" @click=\"back()\">后退</button>\n                <button type=\"button\" class=\"btn btn-light\" @click=\"addFile()\">新建（默认为该目录下）</button>\n                <div>当前路径{{lujing}}</div>\n                <table class=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#序号</th>\n                            <th scope=\"col\">文件名称</th>\n                            <th scope=\"col\" style=\"max-width: 150px;\">路径</th>\n                            <th scope=\"col\">文件类型</th>\n                            <th>操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(item,index) in mdList\" :key=\"index\">\n                            <th scope=\"row\">{{index+1}}</th>\n                            <td>{{item.name}}</td>\n                            <td style=\"max-width: 250px; overflow-x: auto;\">{{item.download_url}}</td>\n                            <td>{{item.type}}</td>\n                            <td>\n                                <button v-if=\"item.type=='dir'\" class=\"btn btn-light\"\n                                    @click=\"nextDir(item.path)\">下一层</button>\n                                <button type=\"button\" class=\"btn btn-light\" v-if=\"item.type!='dir'\"\n                                    @click=\"editFile(item.download_url);sha=item.sha;editPath=item.path\">编辑</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div v-if=\"newFile\" class=\"mb-3\">\n                <label for=\"exampleFormControlInput1\" class=\"form-label\">请输入文件路径</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"请输入文件路径\"\n                    :value=\"newFile\">\n            </div>\n            <div v-if=\"fileUrl||newFile\" id=\"vditor\"></div>\n            <div v-if=\"fileUrl||newFile\" style=\"margin-left: 80%;\">\n                <button type=\"button\" class=\"btn btn-success\" @click=\"save()\" style=\"margin-right: 10px;\">保存</button>\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"close()\">关闭</button>\n            </div>\n        </div>\n    </div>\n```\n\n> js 部分\n\n```js\nimport { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';\n    import { Octokit, App } from \"https://esm.sh/octokit\";\n\n    createApp({\n        data() {\n            return {\n                loading: false,\n                owner: '',\n                repo: '',\n                branch: '',\n                path: 'source/_posts',\n                token: '',\n                user_name: '@126.com',\n                email: '@126.com',\n                getContentUrl: '',\n                adddocUrl: '',\n                /*MD文件的列表*/\n                mdList: [],\n                /*加载MD文件，并进行编辑*/\n                fileUrl: '',\n                contentEditor: '',\n                lujing: '',\n                sha: '',\n                editPath: '',\n                newFile: '',\n            }\n        },\n        async created() {\n            await this.init();\n            this.loading = true;\n        },\n        methods: {\n            async get(url) {\n                return new Promise((resolve, reject) => {\n                    fetch('https://api.github.com' + url).then(res => {\n                        res.json().then(res => {\n                            resolve(res)\n\n                        })\n                    })\n                })\n            },\n            async post(url, data) {\n                return new Promise((resolve, reject) => {\n                    fetch('https://api.github.com' + url, { method: 'POST', body: data }).then(res => {\n                        res.json().then(res => {\n                            resolve(res)\n                        })\n                    })\n                })\n            },\n            getContentUrlFunction() {\n                this.getContentUrl = `/repos/${this.owner}/${this.repo}/contents/${this.path}?ref=${this.branch}`\n            },\n            async init() {\n                this.getContentUrlFunction();\n                const result = await this.get(this.getContentUrl);\n                this.mdList = result;\n                console.log(this.mdList);\n                if (this.mdList.find(b => b.type == 'file')) {\n                    this.lujing = this.mdList.find(b => b.type == 'file').path.substr(0, this.mdList.find(b => b.type == 'file').path.lastIndexOf('/'))\n                } else {\n                    this.lujing = this.mdList.find(b => b.type == 'dir').path.substr(0, this.mdList.find(b => b.type == 'dir').path.lastIndexOf('/'))\n                }\n            },\n            nextDir(path) {\n                this.path = path;\n                this.init();\n            },\n            async streamToString(stream) {\n                const reader = stream.getReader();\n                let result = '';\n                while (true) {\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n                    result += value;\n                }\n                return result;\n            },\n            async editFile(url) {\n                this.fileUrl = url;\n                const dec = new TextDecoder(\"UTF-8\");\n                const str = await new Promise(async (resolve, reject) => {\n                    fetch(this.fileUrl).then(async response => {\n                        var str = await this.streamToString(response.body)\n                        console.log(dec.decode(new Uint8Array(str.split(','))))\n                        resolve(dec.decode(new Uint8Array(str.split(','))))\n                    })\n                })\n                this.contentEditor = new Vditor('vditor', {\n                    height: 800,\n                    toolbarConfig: {\n                        pin: true,\n                    },\n                    cache: {\n                        enable: false,\n                    },\n                    after: () => {\n                        this.contentEditor.setValue(str)\n                    },\n                })\n            },\n            save() {\n                this.upload();\n            },\n            close() {\n                this.fileUrl = '';\n                this.newFile = '';\n            },\n            back() {\n                this.path = this.path.substr(0, this.path.lastIndexOf('/'));\n                this.init();\n            },\n            adddoc(file) {\n                this.adddocUrl = `/repos/${this.owner}/${this.repo}/contents/${this.path}?ref=${this.branch}`\n                return `/repos/${this.owner}/${this.repo}/contents/${this.editPath}?ref=${this.branch}`\n            },\n            async upload() {\n                var loading =weui.loading('保存中',2000);\n                var Upurl = this.adddoc();\n                var sha = '';\n                var hpp_githubgetdocinit = {\n                    method: \"GET\",\n                    headers: {\n                        \"content-type\": \"application/json;charset=UTF-8\",\n                        \"user-agent\": \"HexoPlusPlus@1.2.0\",\n                        \"Authorization\": \"token \" + this.token\n                    },\n                }\n                sha = await new Promise((resolve) => {\n                    fetch('https://api.github.com' + Upurl, hpp_githubgetdocinit).then(res => {\n                        res.json().then(res => {\n                            resolve(res.sha);\n                        })\n                    })\n                })\n                const octokit = new Octokit({\n                    auth: this.token\n                });\n                if (this.newFile) {\n                    let base64 = btoa(String.fromCharCode(...new TextEncoder().encode(this.contentEditor.getValue())))\n\n                    await octokit.request('PUT /repos/{owner}/{repo}/contents/{path}', {\n                        owner: this.owner,\n                        repo: this.repo,\n                        path: this.lujing + '/' + this.newFile,\n                        message: \"message \" + new Date().getTime(),\n                        committer: {\n                            name: this.user_name,\n                            email: this.email\n                        },\n                        content: base64,\n                        headers: {\n                            'X-GitHub-Api-Version': '2022-11-28'\n                        }\n                    })\n                } else {\n                    let base64 = btoa(String.fromCharCode(...new TextEncoder().encode(this.contentEditor.getValue())))\n                    await octokit.request('PUT /repos/{owner}/{repo}/contents/{path}', {\n                        owner: this.owner,\n                        repo: this.repo,\n                        path: this.editPath,\n                        message: \"message \" + new Date().getTime(),\n                        committer: {\n                            name: this.user_name,\n                            email: this.email\n                        },\n                        content: base64,\n                        sha: sha,\n                        headers: {\n                            'X-GitHub-Api-Version': '2022-11-28'\n                        }\n                    })\n                }\n                loading.hide();\n                weui.toast('操作成功', 3000)\n                this.close();\n        },\n        async addFile() {\n            this.newFile = new Date().getTime() + '.md';\n            setTimeout(() => {\n                this.contentEditor = new Vditor('vditor', {\n                    height: 800,\n                    toolbarConfig: {\n                        pin: true,\n                    },\n                    cache: {\n                        enable: false,\n                    },\n                    after: () => {\n                        this.contentEditor.setValue('')\n                    },\n                })\n            }, 100);\n        },\n\n    }\n    }).mount('#app')\n```\n","slug":"ld/日常/其它/1707276914900","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6o000yd8ru6akkgtu5","content":"<blockquote>\n<p>部分代码 H5部分</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;spinner-border&quot;</span> <span class=\"attr\">role</span>=<span class=\"string\">&quot;status&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;!loading&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;visually-hidden&quot;</span>&gt;</span>Loading...<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-else</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;padding: 20px;&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;!fileUrl&amp;&amp;!newFile&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;init()&quot;</span>&gt;</span>重新加载<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;back()&quot;</span>&gt;</span>后退<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;addFile()&quot;</span>&gt;</span>新建（默认为该目录下）<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>当前路径&#123;&#123;lujing&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;table table-striped&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span>&gt;</span>#序号<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span>&gt;</span>文件名称<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;max-width: 150px;&quot;</span>&gt;</span>路径<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span>&gt;</span>文件类型<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>操作<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">tr</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(item,index) in mdList&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;row&quot;</span>&gt;</span>&#123;&#123;index+1&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;max-width: 250px; overflow-x: auto;&quot;</span>&gt;</span>&#123;&#123;item.download_url&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123;item.type&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.type==&#x27;dir&#x27;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                    @<span class=\"attr\">click</span>=<span class=\"string\">&quot;nextDir(item.path)&quot;</span>&gt;</span>下一层<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.type!=&#x27;dir&#x27;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                    @<span class=\"attr\">click</span>=<span class=\"string\">&quot;editFile(item.download_url);sha=item.sha;editPath=item.path&quot;</span>&gt;</span>编辑<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;newFile&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;mb-3&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">&quot;exampleFormControlInput1&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-label&quot;</span>&gt;</span>请输入文件路径<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-control&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;exampleFormControlInput1&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;请输入文件路径&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">:value</span>=<span class=\"string\">&quot;newFile&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;fileUrl||newFile&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;vditor&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;fileUrl||newFile&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-left: 80%;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-success&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;save()&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-right: 10px;&quot;</span>&gt;</span>保存<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-danger&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;close()&quot;</span>&gt;</span>关闭<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>js 部分</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp, ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;https://unpkg.com/vue@3/dist/vue.esm-browser.js&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Octokit</span>, <span class=\"title class_\">App</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;https://esm.sh/octokit&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">createApp</span>(&#123;</span><br><span class=\"line\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">                <span class=\"attr\">loading</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">owner</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">repo</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">branch</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">path</span>: <span class=\"string\">&#x27;source/_posts&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">token</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">user_name</span>: <span class=\"string\">&#x27;@126.com&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">email</span>: <span class=\"string\">&#x27;@126.com&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">getContentUrl</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">adddocUrl</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"comment\">/*MD文件的列表*/</span></span><br><span class=\"line\">                <span class=\"attr\">mdList</span>: [],</span><br><span class=\"line\">                <span class=\"comment\">/*加载MD文件，并进行编辑*/</span></span><br><span class=\"line\">                <span class=\"attr\">fileUrl</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">contentEditor</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">lujing</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">sha</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">editPath</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">newFile</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"keyword\">async</span> <span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">loading</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">get</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;https://api.github.com&#x27;</span> + url).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                        res.<span class=\"title function_\">json</span>().<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                            <span class=\"title function_\">resolve</span>(res)</span><br><span class=\"line\"></span><br><span class=\"line\">                        &#125;)</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">post</span>(<span class=\"params\">url, data</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;https://api.github.com&#x27;</span> + url, &#123; <span class=\"attr\">method</span>: <span class=\"string\">&#x27;POST&#x27;</span>, <span class=\"attr\">body</span>: data &#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                        res.<span class=\"title function_\">json</span>().<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                            <span class=\"title function_\">resolve</span>(res)</span><br><span class=\"line\">                        &#125;)</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">getContentUrlFunction</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">getContentUrl</span> = <span class=\"string\">`/repos/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.owner&#125;</span>/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.repo&#125;</span>/contents/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.path&#125;</span>?ref=<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.branch&#125;</span>`</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">getContentUrlFunction</span>();</span><br><span class=\"line\">                <span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">get</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">getContentUrl</span>);</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span> = result;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;file&#x27;</span>)) &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">lujing</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;file&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;file&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>))</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">lujing</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;dir&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;dir&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>))</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">nextDir</span>(<span class=\"params\">path</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">path</span> = path;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">streamToString</span>(<span class=\"params\">stream</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> reader = stream.<span class=\"title function_\">getReader</span>();</span><br><span class=\"line\">                <span class=\"keyword\">let</span> result = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">const</span> &#123; done, value &#125; = <span class=\"keyword\">await</span> reader.<span class=\"title function_\">read</span>();</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (done) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    result += value;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">editFile</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">fileUrl</span> = url;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> dec = <span class=\"keyword\">new</span> <span class=\"title class_\">TextDecoder</span>(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">                <span class=\"keyword\">const</span> str = <span class=\"keyword\">await</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">async</span> (resolve, reject) =&gt; &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">fileUrl</span>).<span class=\"title function_\">then</span>(<span class=\"keyword\">async</span> response =&gt; &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> str = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">streamToString</span>(response.<span class=\"property\">body</span>)</span><br><span class=\"line\">                        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(dec.<span class=\"title function_\">decode</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>))))</span><br><span class=\"line\">                        <span class=\"title function_\">resolve</span>(dec.<span class=\"title function_\">decode</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>))))</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vditor</span>(<span class=\"string\">&#x27;vditor&#x27;</span>, &#123;</span><br><span class=\"line\">                    <span class=\"attr\">height</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">                    <span class=\"attr\">toolbarConfig</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">pin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">cache</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">enable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">after</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                        <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">setValue</span>(str)</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">save</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">upload</span>();</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">close</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">fileUrl</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">back</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">path</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">path</span>.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">path</span>.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>));</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">adddoc</span>(<span class=\"params\">file</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">adddocUrl</span> = <span class=\"string\">`/repos/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.owner&#125;</span>/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.repo&#125;</span>/contents/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.path&#125;</span>?ref=<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.branch&#125;</span>`</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">`/repos/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.owner&#125;</span>/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.repo&#125;</span>/contents/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.editPath&#125;</span>?ref=<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.branch&#125;</span>`</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">upload</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> loading =weui.<span class=\"title function_\">loading</span>(<span class=\"string\">&#x27;保存中&#x27;</span>,<span class=\"number\">2000</span>);</span><br><span class=\"line\">                <span class=\"keyword\">var</span> <span class=\"title class_\">Upurl</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">adddoc</span>();</span><br><span class=\"line\">                <span class=\"keyword\">var</span> sha = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> hpp_githubgetdocinit = &#123;</span><br><span class=\"line\">                    <span class=\"attr\">method</span>: <span class=\"string\">&quot;GET&quot;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">                        <span class=\"string\">&quot;content-type&quot;</span>: <span class=\"string\">&quot;application/json;charset=UTF-8&quot;</span>,</span><br><span class=\"line\">                        <span class=\"string\">&quot;user-agent&quot;</span>: <span class=\"string\">&quot;HexoPlusPlus@1.2.0&quot;</span>,</span><br><span class=\"line\">                        <span class=\"string\">&quot;Authorization&quot;</span>: <span class=\"string\">&quot;token &quot;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">token</span></span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                sha = <span class=\"keyword\">await</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;https://api.github.com&#x27;</span> + <span class=\"title class_\">Upurl</span>, hpp_githubgetdocinit).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                        res.<span class=\"title function_\">json</span>().<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                            <span class=\"title function_\">resolve</span>(res.<span class=\"property\">sha</span>);</span><br><span class=\"line\">                        &#125;)</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">                <span class=\"keyword\">const</span> octokit = <span class=\"keyword\">new</span> <span class=\"title class_\">Octokit</span>(&#123;</span><br><span class=\"line\">                    <span class=\"attr\">auth</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">token</span></span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> base64 = <span class=\"title function_\">btoa</span>(<span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(...<span class=\"keyword\">new</span> <span class=\"title class_\">TextEncoder</span>().<span class=\"title function_\">encode</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">getValue</span>())))</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">await</span> octokit.<span class=\"title function_\">request</span>(<span class=\"string\">&#x27;PUT /repos/&#123;owner&#125;/&#123;repo&#125;/contents/&#123;path&#125;&#x27;</span>, &#123;</span><br><span class=\"line\">                        <span class=\"attr\">owner</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">owner</span>,</span><br><span class=\"line\">                        <span class=\"attr\">repo</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">repo</span>,</span><br><span class=\"line\">                        <span class=\"attr\">path</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">lujing</span> + <span class=\"string\">&#x27;/&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span>,</span><br><span class=\"line\">                        <span class=\"attr\">message</span>: <span class=\"string\">&quot;message &quot;</span> + <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>(),</span><br><span class=\"line\">                        <span class=\"attr\">committer</span>: &#123;</span><br><span class=\"line\">                            <span class=\"attr\">name</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">user_name</span>,</span><br><span class=\"line\">                            <span class=\"attr\">email</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">email</span></span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        <span class=\"attr\">content</span>: base64,</span><br><span class=\"line\">                        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">                            <span class=\"string\">&#x27;X-GitHub-Api-Version&#x27;</span>: <span class=\"string\">&#x27;2022-11-28&#x27;</span></span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> base64 = <span class=\"title function_\">btoa</span>(<span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(...<span class=\"keyword\">new</span> <span class=\"title class_\">TextEncoder</span>().<span class=\"title function_\">encode</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">getValue</span>())))</span><br><span class=\"line\">                    <span class=\"keyword\">await</span> octokit.<span class=\"title function_\">request</span>(<span class=\"string\">&#x27;PUT /repos/&#123;owner&#125;/&#123;repo&#125;/contents/&#123;path&#125;&#x27;</span>, &#123;</span><br><span class=\"line\">                        <span class=\"attr\">owner</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">owner</span>,</span><br><span class=\"line\">                        <span class=\"attr\">repo</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">repo</span>,</span><br><span class=\"line\">                        <span class=\"attr\">path</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">editPath</span>,</span><br><span class=\"line\">                        <span class=\"attr\">message</span>: <span class=\"string\">&quot;message &quot;</span> + <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>(),</span><br><span class=\"line\">                        <span class=\"attr\">committer</span>: &#123;</span><br><span class=\"line\">                            <span class=\"attr\">name</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">user_name</span>,</span><br><span class=\"line\">                            <span class=\"attr\">email</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">email</span></span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        <span class=\"attr\">content</span>: base64,</span><br><span class=\"line\">                        <span class=\"attr\">sha</span>: sha,</span><br><span class=\"line\">                        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">                            <span class=\"string\">&#x27;X-GitHub-Api-Version&#x27;</span>: <span class=\"string\">&#x27;2022-11-28&#x27;</span></span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                loading.<span class=\"title function_\">hide</span>();</span><br><span class=\"line\">                weui.<span class=\"title function_\">toast</span>(<span class=\"string\">&#x27;操作成功&#x27;</span>, <span class=\"number\">3000</span>)</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">close</span>();</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"keyword\">async</span> <span class=\"title function_\">addFile</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>() + <span class=\"string\">&#x27;.md&#x27;</span>;</span><br><span class=\"line\">            <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vditor</span>(<span class=\"string\">&#x27;vditor&#x27;</span>, &#123;</span><br><span class=\"line\">                    <span class=\"attr\">height</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">                    <span class=\"attr\">toolbarConfig</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">pin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">cache</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">enable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">after</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                        <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">setValue</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;, <span class=\"number\">100</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;).<span class=\"title function_\">mount</span>(<span class=\"string\">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"cover":false,"more":"<blockquote>\n<p>部分代码 H5部分</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;spinner-border&quot;</span> <span class=\"attr\">role</span>=<span class=\"string\">&quot;status&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;!loading&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;visually-hidden&quot;</span>&gt;</span>Loading...<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-else</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;padding: 20px;&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;!fileUrl&amp;&amp;!newFile&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;init()&quot;</span>&gt;</span>重新加载<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;back()&quot;</span>&gt;</span>后退<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;addFile()&quot;</span>&gt;</span>新建（默认为该目录下）<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>当前路径&#123;&#123;lujing&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;table table-striped&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span>&gt;</span>#序号<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span>&gt;</span>文件名称<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;max-width: 150px;&quot;</span>&gt;</span>路径<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;col&quot;</span>&gt;</span>文件类型<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>操作<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">tr</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(item,index) in mdList&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">th</span> <span class=\"attr\">scope</span>=<span class=\"string\">&quot;row&quot;</span>&gt;</span>&#123;&#123;index+1&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;max-width: 250px; overflow-x: auto;&quot;</span>&gt;</span>&#123;&#123;item.download_url&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123;item.type&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.type==&#x27;dir&#x27;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                    @<span class=\"attr\">click</span>=<span class=\"string\">&quot;nextDir(item.path)&quot;</span>&gt;</span>下一层<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-light&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.type!=&#x27;dir&#x27;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                    @<span class=\"attr\">click</span>=<span class=\"string\">&quot;editFile(item.download_url);sha=item.sha;editPath=item.path&quot;</span>&gt;</span>编辑<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;newFile&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;mb-3&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">&quot;exampleFormControlInput1&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-label&quot;</span>&gt;</span>请输入文件路径<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-control&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;exampleFormControlInput1&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;请输入文件路径&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">:value</span>=<span class=\"string\">&quot;newFile&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;fileUrl||newFile&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;vditor&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;fileUrl||newFile&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-left: 80%;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-success&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;save()&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-right: 10px;&quot;</span>&gt;</span>保存<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-danger&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;close()&quot;</span>&gt;</span>关闭<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>js 部分</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp, ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;https://unpkg.com/vue@3/dist/vue.esm-browser.js&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Octokit</span>, <span class=\"title class_\">App</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;https://esm.sh/octokit&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">createApp</span>(&#123;</span><br><span class=\"line\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">                <span class=\"attr\">loading</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">owner</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">repo</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">branch</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">path</span>: <span class=\"string\">&#x27;source/_posts&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">token</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">user_name</span>: <span class=\"string\">&#x27;@126.com&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">email</span>: <span class=\"string\">&#x27;@126.com&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">getContentUrl</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">adddocUrl</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"comment\">/*MD文件的列表*/</span></span><br><span class=\"line\">                <span class=\"attr\">mdList</span>: [],</span><br><span class=\"line\">                <span class=\"comment\">/*加载MD文件，并进行编辑*/</span></span><br><span class=\"line\">                <span class=\"attr\">fileUrl</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">contentEditor</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">lujing</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">sha</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">editPath</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">newFile</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"keyword\">async</span> <span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">loading</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">get</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;https://api.github.com&#x27;</span> + url).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                        res.<span class=\"title function_\">json</span>().<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                            <span class=\"title function_\">resolve</span>(res)</span><br><span class=\"line\"></span><br><span class=\"line\">                        &#125;)</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">post</span>(<span class=\"params\">url, data</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;https://api.github.com&#x27;</span> + url, &#123; <span class=\"attr\">method</span>: <span class=\"string\">&#x27;POST&#x27;</span>, <span class=\"attr\">body</span>: data &#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                        res.<span class=\"title function_\">json</span>().<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                            <span class=\"title function_\">resolve</span>(res)</span><br><span class=\"line\">                        &#125;)</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">getContentUrlFunction</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">getContentUrl</span> = <span class=\"string\">`/repos/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.owner&#125;</span>/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.repo&#125;</span>/contents/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.path&#125;</span>?ref=<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.branch&#125;</span>`</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">getContentUrlFunction</span>();</span><br><span class=\"line\">                <span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">get</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">getContentUrl</span>);</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span> = result;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;file&#x27;</span>)) &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">lujing</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;file&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;file&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>))</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">lujing</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;dir&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">mdList</span>.<span class=\"title function_\">find</span>(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.<span class=\"property\">type</span> == <span class=\"string\">&#x27;dir&#x27;</span>).<span class=\"property\">path</span>.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>))</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">nextDir</span>(<span class=\"params\">path</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">path</span> = path;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">streamToString</span>(<span class=\"params\">stream</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> reader = stream.<span class=\"title function_\">getReader</span>();</span><br><span class=\"line\">                <span class=\"keyword\">let</span> result = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">const</span> &#123; done, value &#125; = <span class=\"keyword\">await</span> reader.<span class=\"title function_\">read</span>();</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (done) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    result += value;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">editFile</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">fileUrl</span> = url;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> dec = <span class=\"keyword\">new</span> <span class=\"title class_\">TextDecoder</span>(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">                <span class=\"keyword\">const</span> str = <span class=\"keyword\">await</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">async</span> (resolve, reject) =&gt; &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">fileUrl</span>).<span class=\"title function_\">then</span>(<span class=\"keyword\">async</span> response =&gt; &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> str = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">streamToString</span>(response.<span class=\"property\">body</span>)</span><br><span class=\"line\">                        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(dec.<span class=\"title function_\">decode</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>))))</span><br><span class=\"line\">                        <span class=\"title function_\">resolve</span>(dec.<span class=\"title function_\">decode</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(str.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>))))</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vditor</span>(<span class=\"string\">&#x27;vditor&#x27;</span>, &#123;</span><br><span class=\"line\">                    <span class=\"attr\">height</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">                    <span class=\"attr\">toolbarConfig</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">pin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">cache</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">enable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">after</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                        <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">setValue</span>(str)</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">save</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">upload</span>();</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">close</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">fileUrl</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">back</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">path</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">path</span>.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">path</span>.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>));</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"title function_\">adddoc</span>(<span class=\"params\">file</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">adddocUrl</span> = <span class=\"string\">`/repos/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.owner&#125;</span>/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.repo&#125;</span>/contents/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.path&#125;</span>?ref=<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.branch&#125;</span>`</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">`/repos/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.owner&#125;</span>/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.repo&#125;</span>/contents/<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.editPath&#125;</span>?ref=<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.branch&#125;</span>`</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"keyword\">async</span> <span class=\"title function_\">upload</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> loading =weui.<span class=\"title function_\">loading</span>(<span class=\"string\">&#x27;保存中&#x27;</span>,<span class=\"number\">2000</span>);</span><br><span class=\"line\">                <span class=\"keyword\">var</span> <span class=\"title class_\">Upurl</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">adddoc</span>();</span><br><span class=\"line\">                <span class=\"keyword\">var</span> sha = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> hpp_githubgetdocinit = &#123;</span><br><span class=\"line\">                    <span class=\"attr\">method</span>: <span class=\"string\">&quot;GET&quot;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">                        <span class=\"string\">&quot;content-type&quot;</span>: <span class=\"string\">&quot;application/json;charset=UTF-8&quot;</span>,</span><br><span class=\"line\">                        <span class=\"string\">&quot;user-agent&quot;</span>: <span class=\"string\">&quot;HexoPlusPlus@1.2.0&quot;</span>,</span><br><span class=\"line\">                        <span class=\"string\">&quot;Authorization&quot;</span>: <span class=\"string\">&quot;token &quot;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">token</span></span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                sha = <span class=\"keyword\">await</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;https://api.github.com&#x27;</span> + <span class=\"title class_\">Upurl</span>, hpp_githubgetdocinit).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                        res.<span class=\"title function_\">json</span>().<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                            <span class=\"title function_\">resolve</span>(res.<span class=\"property\">sha</span>);</span><br><span class=\"line\">                        &#125;)</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">                <span class=\"keyword\">const</span> octokit = <span class=\"keyword\">new</span> <span class=\"title class_\">Octokit</span>(&#123;</span><br><span class=\"line\">                    <span class=\"attr\">auth</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">token</span></span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span>) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> base64 = <span class=\"title function_\">btoa</span>(<span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(...<span class=\"keyword\">new</span> <span class=\"title class_\">TextEncoder</span>().<span class=\"title function_\">encode</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">getValue</span>())))</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">await</span> octokit.<span class=\"title function_\">request</span>(<span class=\"string\">&#x27;PUT /repos/&#123;owner&#125;/&#123;repo&#125;/contents/&#123;path&#125;&#x27;</span>, &#123;</span><br><span class=\"line\">                        <span class=\"attr\">owner</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">owner</span>,</span><br><span class=\"line\">                        <span class=\"attr\">repo</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">repo</span>,</span><br><span class=\"line\">                        <span class=\"attr\">path</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">lujing</span> + <span class=\"string\">&#x27;/&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span>,</span><br><span class=\"line\">                        <span class=\"attr\">message</span>: <span class=\"string\">&quot;message &quot;</span> + <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>(),</span><br><span class=\"line\">                        <span class=\"attr\">committer</span>: &#123;</span><br><span class=\"line\">                            <span class=\"attr\">name</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">user_name</span>,</span><br><span class=\"line\">                            <span class=\"attr\">email</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">email</span></span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        <span class=\"attr\">content</span>: base64,</span><br><span class=\"line\">                        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">                            <span class=\"string\">&#x27;X-GitHub-Api-Version&#x27;</span>: <span class=\"string\">&#x27;2022-11-28&#x27;</span></span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">let</span> base64 = <span class=\"title function_\">btoa</span>(<span class=\"title class_\">String</span>.<span class=\"title function_\">fromCharCode</span>(...<span class=\"keyword\">new</span> <span class=\"title class_\">TextEncoder</span>().<span class=\"title function_\">encode</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">getValue</span>())))</span><br><span class=\"line\">                    <span class=\"keyword\">await</span> octokit.<span class=\"title function_\">request</span>(<span class=\"string\">&#x27;PUT /repos/&#123;owner&#125;/&#123;repo&#125;/contents/&#123;path&#125;&#x27;</span>, &#123;</span><br><span class=\"line\">                        <span class=\"attr\">owner</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">owner</span>,</span><br><span class=\"line\">                        <span class=\"attr\">repo</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">repo</span>,</span><br><span class=\"line\">                        <span class=\"attr\">path</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">editPath</span>,</span><br><span class=\"line\">                        <span class=\"attr\">message</span>: <span class=\"string\">&quot;message &quot;</span> + <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>(),</span><br><span class=\"line\">                        <span class=\"attr\">committer</span>: &#123;</span><br><span class=\"line\">                            <span class=\"attr\">name</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">user_name</span>,</span><br><span class=\"line\">                            <span class=\"attr\">email</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">email</span></span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        <span class=\"attr\">content</span>: base64,</span><br><span class=\"line\">                        <span class=\"attr\">sha</span>: sha,</span><br><span class=\"line\">                        <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">                            <span class=\"string\">&#x27;X-GitHub-Api-Version&#x27;</span>: <span class=\"string\">&#x27;2022-11-28&#x27;</span></span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                loading.<span class=\"title function_\">hide</span>();</span><br><span class=\"line\">                weui.<span class=\"title function_\">toast</span>(<span class=\"string\">&#x27;操作成功&#x27;</span>, <span class=\"number\">3000</span>)</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">close</span>();</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"keyword\">async</span> <span class=\"title function_\">addFile</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">newFile</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>() + <span class=\"string\">&#x27;.md&#x27;</span>;</span><br><span class=\"line\">            <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vditor</span>(<span class=\"string\">&#x27;vditor&#x27;</span>, &#123;</span><br><span class=\"line\">                    <span class=\"attr\">height</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">                    <span class=\"attr\">toolbarConfig</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">pin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">cache</span>: &#123;</span><br><span class=\"line\">                        <span class=\"attr\">enable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">after</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                        <span class=\"variable language_\">this</span>.<span class=\"property\">contentEditor</span>.<span class=\"title function_\">setValue</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;, <span class=\"number\">100</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;).<span class=\"title function_\">mount</span>(<span class=\"string\">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>\n"},{"title":"postgre01","date":"2024-02-06T02:00:00.000Z","excerpt":"postgre01","_content":"> postgre 中经常使用的脚本\n\n```sql\n行转列\nunnest(string_to_array(column_name , ','))\n\n列转行\nstring_agg(column_name , ',')\n\n\n```\n\n> 鉴权\n\n```sql\n\npermission denied for sequence XXXX_control_no_seq \n\n```\n\n> 重建索引\n\n```sql\nDO \n\n$$\n\nDECLARE  \n\n  table_name text;  \n\nBEGIN  \n\n  FOR table_name IN (SELECT tablename FROM pg_tables WHERE schemaname = 'node' )  \n\n  LOOP  \n\n   BEGIN  \n\n     EXECUTE 'ALTER TABLE node.' || table_name || ' ALTER COLUMN \"id\" SET START 104001' ;  \n\n  EXCEPTION  \n\n    WHEN OTHERS THEN  \n\n      RAISE NOTICE 'Caught an exception: %', SQLERRM; -- 捕获并打印异常信息  \n\n  END;  \n\n  END LOOP;  \n\nEND \n\n$$\n\n;\n```\n\n> 循环插入数据\n\n```sql\ndo $$\n\ndeclare\n\nv_idx integer := 1;\n\nbegin\n\n while v_idx < 1000 loop\n\n v_idx = v_idx+1;\n\ninsert into dbo.？\n\n( isreaded, isdeleted)\n\nOVERRIDING SYSTEM VALUE (select isreaded, isdeleted from dbo.？as tt order by id desc limit 1);\n\n end loop;\n\nend $$;\n\n```\n\n> 按照指定字段进行分组 并取一行\n\n```sql\nselect * from ( select ROW_NUMBER() over(partition by ss.?,ss.?, order by id desc) rn,* from\n\n\"dbo\".\"?\" as ss where ss.?=false and module='success') as sinfo where rn=1\n```\n\n> 删除表统计情报优化表性能\n\n```sql\nanalyze tablename\n```\n\n> 表增加索引 提高脚本执行效率\n\n```sql\ncreate index i_tablename_columnname on tablename(columnname);\n```\n","source":"_posts/ld/日常/sql/postgre01.md","raw":"---\ntitle: postgre01\ndate: 2024-02-06 10:00:00\ncategories:\n- Sql\nexcerpt: postgre01\n---\n> postgre 中经常使用的脚本\n\n```sql\n行转列\nunnest(string_to_array(column_name , ','))\n\n列转行\nstring_agg(column_name , ',')\n\n\n```\n\n> 鉴权\n\n```sql\n\npermission denied for sequence XXXX_control_no_seq \n\n```\n\n> 重建索引\n\n```sql\nDO \n\n$$\n\nDECLARE  \n\n  table_name text;  \n\nBEGIN  \n\n  FOR table_name IN (SELECT tablename FROM pg_tables WHERE schemaname = 'node' )  \n\n  LOOP  \n\n   BEGIN  \n\n     EXECUTE 'ALTER TABLE node.' || table_name || ' ALTER COLUMN \"id\" SET START 104001' ;  \n\n  EXCEPTION  \n\n    WHEN OTHERS THEN  \n\n      RAISE NOTICE 'Caught an exception: %', SQLERRM; -- 捕获并打印异常信息  \n\n  END;  \n\n  END LOOP;  \n\nEND \n\n$$\n\n;\n```\n\n> 循环插入数据\n\n```sql\ndo $$\n\ndeclare\n\nv_idx integer := 1;\n\nbegin\n\n while v_idx < 1000 loop\n\n v_idx = v_idx+1;\n\ninsert into dbo.？\n\n( isreaded, isdeleted)\n\nOVERRIDING SYSTEM VALUE (select isreaded, isdeleted from dbo.？as tt order by id desc limit 1);\n\n end loop;\n\nend $$;\n\n```\n\n> 按照指定字段进行分组 并取一行\n\n```sql\nselect * from ( select ROW_NUMBER() over(partition by ss.?,ss.?, order by id desc) rn,* from\n\n\"dbo\".\"?\" as ss where ss.?=false and module='success') as sinfo where rn=1\n```\n\n> 删除表统计情报优化表性能\n\n```sql\nanalyze tablename\n```\n\n> 表增加索引 提高脚本执行效率\n\n```sql\ncreate index i_tablename_columnname on tablename(columnname);\n```\n","slug":"ld/日常/sql/postgre01","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6p0011d8ru6kx35m4u","content":"<blockquote>\n<p>postgre 中经常使用的脚本</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">行转列</span><br><span class=\"line\"><span class=\"built_in\">unnest</span>(string_to_array(column_name , <span class=\"string\">&#x27;,&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">列转行</span><br><span class=\"line\">string_agg(column_name , <span class=\"string\">&#x27;,&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>鉴权</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">permission denied <span class=\"keyword\">for</span> sequence XXXX_control_no_seq </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>重建索引</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DO </span><br><span class=\"line\"></span><br><span class=\"line\">$$</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">DECLARE</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">  table_name text;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">FOR</span> table_name <span class=\"keyword\">IN</span> (<span class=\"keyword\">SELECT</span> tablename <span class=\"keyword\">FROM</span> pg_tables <span class=\"keyword\">WHERE</span> schemaname <span class=\"operator\">=</span> <span class=\"string\">&#x27;node&#x27;</span> )  </span><br><span class=\"line\"></span><br><span class=\"line\">  LOOP  </span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">BEGIN</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">EXECUTE</span> <span class=\"string\">&#x27;ALTER TABLE node.&#x27;</span> <span class=\"operator\">||</span> table_name <span class=\"operator\">||</span> <span class=\"string\">&#x27; ALTER COLUMN &quot;id&quot; SET START 104001&#x27;</span> ;  </span><br><span class=\"line\"></span><br><span class=\"line\">  EXCEPTION  </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">WHEN</span> OTHERS <span class=\"keyword\">THEN</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">      RAISE NOTICE <span class=\"string\">&#x27;Caught an exception: %&#x27;</span>, SQLERRM; <span class=\"comment\">-- 捕获并打印异常信息  </span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">END</span>;  </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">END</span> LOOP;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">END</span> </span><br><span class=\"line\"></span><br><span class=\"line\">$$</span><br><span class=\"line\"></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>循环插入数据</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">do $$</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">declare</span></span><br><span class=\"line\"></span><br><span class=\"line\">v_idx <span class=\"type\">integer</span> :<span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\"></span><br><span class=\"line\"> while v_idx <span class=\"operator\">&lt;</span> <span class=\"number\">1000</span> loop</span><br><span class=\"line\"></span><br><span class=\"line\"> v_idx <span class=\"operator\">=</span> v_idx<span class=\"operator\">+</span><span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> dbo.？</span><br><span class=\"line\"></span><br><span class=\"line\">( isreaded, isdeleted)</span><br><span class=\"line\"></span><br><span class=\"line\">OVERRIDING <span class=\"keyword\">SYSTEM</span> <span class=\"keyword\">VALUE</span> (<span class=\"keyword\">select</span> isreaded, isdeleted <span class=\"keyword\">from</span> dbo.？<span class=\"keyword\">as</span> tt <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> id <span class=\"keyword\">desc</span> limit <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">end</span> loop;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">end</span> $$;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>按照指定字段进行分组 并取一行</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> ( <span class=\"keyword\">select</span> <span class=\"built_in\">ROW_NUMBER</span>() <span class=\"keyword\">over</span>(<span class=\"keyword\">partition</span> <span class=\"keyword\">by</span> ss.?,ss.?, <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> id <span class=\"keyword\">desc</span>) rn,<span class=\"operator\">*</span> <span class=\"keyword\">from</span></span><br><span class=\"line\"></span><br><span class=\"line\">&quot;dbo&quot;.&quot;?&quot; <span class=\"keyword\">as</span> ss <span class=\"keyword\">where</span> ss.?<span class=\"operator\">=</span><span class=\"literal\">false</span> <span class=\"keyword\">and</span> <span class=\"keyword\">module</span><span class=\"operator\">=</span><span class=\"string\">&#x27;success&#x27;</span>) <span class=\"keyword\">as</span> sinfo <span class=\"keyword\">where</span> rn<span class=\"operator\">=</span><span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>删除表统计情报优化表性能</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">analyze tablename</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>表增加索引 提高脚本执行效率</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> index i_tablename_columnname <span class=\"keyword\">on</span> tablename(columnname);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"cover":false,"more":"<blockquote>\n<p>postgre 中经常使用的脚本</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">行转列</span><br><span class=\"line\"><span class=\"built_in\">unnest</span>(string_to_array(column_name , <span class=\"string\">&#x27;,&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">列转行</span><br><span class=\"line\">string_agg(column_name , <span class=\"string\">&#x27;,&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>鉴权</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">permission denied <span class=\"keyword\">for</span> sequence XXXX_control_no_seq </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>重建索引</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DO </span><br><span class=\"line\"></span><br><span class=\"line\">$$</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">DECLARE</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">  table_name text;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">FOR</span> table_name <span class=\"keyword\">IN</span> (<span class=\"keyword\">SELECT</span> tablename <span class=\"keyword\">FROM</span> pg_tables <span class=\"keyword\">WHERE</span> schemaname <span class=\"operator\">=</span> <span class=\"string\">&#x27;node&#x27;</span> )  </span><br><span class=\"line\"></span><br><span class=\"line\">  LOOP  </span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">BEGIN</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">EXECUTE</span> <span class=\"string\">&#x27;ALTER TABLE node.&#x27;</span> <span class=\"operator\">||</span> table_name <span class=\"operator\">||</span> <span class=\"string\">&#x27; ALTER COLUMN &quot;id&quot; SET START 104001&#x27;</span> ;  </span><br><span class=\"line\"></span><br><span class=\"line\">  EXCEPTION  </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">WHEN</span> OTHERS <span class=\"keyword\">THEN</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">      RAISE NOTICE <span class=\"string\">&#x27;Caught an exception: %&#x27;</span>, SQLERRM; <span class=\"comment\">-- 捕获并打印异常信息  </span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">END</span>;  </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">END</span> LOOP;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">END</span> </span><br><span class=\"line\"></span><br><span class=\"line\">$$</span><br><span class=\"line\"></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>循环插入数据</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">do $$</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">declare</span></span><br><span class=\"line\"></span><br><span class=\"line\">v_idx <span class=\"type\">integer</span> :<span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\"></span><br><span class=\"line\"> while v_idx <span class=\"operator\">&lt;</span> <span class=\"number\">1000</span> loop</span><br><span class=\"line\"></span><br><span class=\"line\"> v_idx <span class=\"operator\">=</span> v_idx<span class=\"operator\">+</span><span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> dbo.？</span><br><span class=\"line\"></span><br><span class=\"line\">( isreaded, isdeleted)</span><br><span class=\"line\"></span><br><span class=\"line\">OVERRIDING <span class=\"keyword\">SYSTEM</span> <span class=\"keyword\">VALUE</span> (<span class=\"keyword\">select</span> isreaded, isdeleted <span class=\"keyword\">from</span> dbo.？<span class=\"keyword\">as</span> tt <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> id <span class=\"keyword\">desc</span> limit <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">end</span> loop;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">end</span> $$;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>按照指定字段进行分组 并取一行</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> ( <span class=\"keyword\">select</span> <span class=\"built_in\">ROW_NUMBER</span>() <span class=\"keyword\">over</span>(<span class=\"keyword\">partition</span> <span class=\"keyword\">by</span> ss.?,ss.?, <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> id <span class=\"keyword\">desc</span>) rn,<span class=\"operator\">*</span> <span class=\"keyword\">from</span></span><br><span class=\"line\"></span><br><span class=\"line\">&quot;dbo&quot;.&quot;?&quot; <span class=\"keyword\">as</span> ss <span class=\"keyword\">where</span> ss.?<span class=\"operator\">=</span><span class=\"literal\">false</span> <span class=\"keyword\">and</span> <span class=\"keyword\">module</span><span class=\"operator\">=</span><span class=\"string\">&#x27;success&#x27;</span>) <span class=\"keyword\">as</span> sinfo <span class=\"keyword\">where</span> rn<span class=\"operator\">=</span><span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>删除表统计情报优化表性能</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">analyze tablename</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>表增加索引 提高脚本执行效率</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> index i_tablename_columnname <span class=\"keyword\">on</span> tablename(columnname);</span><br></pre></td></tr></table></figure>\n"},{"title":"各种工具","date":"2024-02-05T16:00:00.000Z","excerpt":"防污染、navicat","_content":"\n***用蓝奏分享***\n[蓝奏-devsidecar](https://dong0319.lanzoul.com/ioJmp1eqjsaj \"devsidecar\")\n[蓝奏-zerotier](https://dong0319.lanzoul.com/ipVo71eqjw7a \"zerotier\")\n[蓝奏-navicat](https://dong0319.lanzoul.com/b01fooayj密码:69kz \"navicat\")\n","source":"_posts/ld/日常/tools/tools01.md","raw":"---\ntitle: 各种工具\ndate: 2024-02-06\ncategories:\n- 小技巧\ntags:\n- 工具链接\nexcerpt: 防污染、navicat\n---\n\n***用蓝奏分享***\n[蓝奏-devsidecar](https://dong0319.lanzoul.com/ioJmp1eqjsaj \"devsidecar\")\n[蓝奏-zerotier](https://dong0319.lanzoul.com/ipVo71eqjw7a \"zerotier\")\n[蓝奏-navicat](https://dong0319.lanzoul.com/b01fooayj密码:69kz \"navicat\")\n","slug":"ld/日常/tools/tools01","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6q0012d8rua73bcpjl","content":"<p><em><strong>用蓝奏分享</strong></em><br><a href=\"https://dong0319.lanzoul.com/ioJmp1eqjsaj\" title=\"devsidecar\">蓝奏-devsidecar</a><br><a href=\"https://dong0319.lanzoul.com/ipVo71eqjw7a\" title=\"zerotier\">蓝奏-zerotier</a><br><a href=\"https://dong0319.lanzoul.com/b01fooayj%E5%AF%86%E7%A0%81:69kz\" title=\"navicat\">蓝奏-navicat</a></p>\n","site":{"data":{}},"cover":false,"more":"<p><em><strong>用蓝奏分享</strong></em><br><a href=\"https://dong0319.lanzoul.com/ioJmp1eqjsaj\" title=\"devsidecar\">蓝奏-devsidecar</a><br><a href=\"https://dong0319.lanzoul.com/ipVo71eqjw7a\" title=\"zerotier\">蓝奏-zerotier</a><br><a href=\"https://dong0319.lanzoul.com/b01fooayj%E5%AF%86%E7%A0%81:69kz\" title=\"navicat\">蓝奏-navicat</a></p>\n"},{"title":"Docker打包学习","date":"2023-05-18T16:00:00.000Z","excerpt":"docker","_content":"**打包docker基本脚本**\n- 首先需要选择基础镜像。一般选择这个 是体积最小的。\n如果使用特殊技术就选择对应技术使用的也可以，\n```shell\nFROM alpine:latest\n\nFROM node:14-alpine3.15\n```\n\n- 如果有需要可以设置时区，这个是独立项目需要的，比如我这只在本地跑一点代码\n\n```shell\n# 设置时区\nRUN apk add --no-cache tzdata \\\n    && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n    && echo \"Asia/Shanghai\" > /etc/timezone \\\n    && apk del tzdata\n```\n\n之后基于使用的技术添加包\n比如\npython 需要 python3和pip\n```shell\nRUN apk add python3 py-pip\nRUN pip3 install requests\nRUN pip3 install schedule\n```\n\n- 最后运行当前启动指令\n\n```shell\nCMD [ \"python\", \"jobs.py\" ]\n```\n\n-----\n\n这之下是通过github action 打包docker 脚本\n可支持多种平台x86  arm 等\n```yml\nname: Build dockers\n\non:\n  push:\n    branches:\n      - master\n    tags:\n      - '*'\n\n  workflow_dispatch:\n\njobs:\n\n  docker:\n    name: Build dockers\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - uses: docker/setup-qemu-action@v2\n      - uses: docker/setup-buildx-action@v2\n        with:\n          install: true\n          platforms: linux/amd64,linux/arm64/v8,linux/arm/v7\n\n      - uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_USERNAME }}\n          password: ${{ secrets.DOCKER_TOKEN }}\n\n      - name: build and push in master\n        uses: docker/build-push-action@v4\n        with:\n          push: true\n          tags: dlld0319/jobs:latest\n          context: .\n          platforms: linux/amd64,linux/arm64/v8,linux/arm/v7\n```","source":"_posts/ld/日常/其它/docker 打包学习.md","raw":"---\ntitle: Docker打包学习\ndate: 2023-05-19\ncategories:\n- docker\nexcerpt: docker\n---\n**打包docker基本脚本**\n- 首先需要选择基础镜像。一般选择这个 是体积最小的。\n如果使用特殊技术就选择对应技术使用的也可以，\n```shell\nFROM alpine:latest\n\nFROM node:14-alpine3.15\n```\n\n- 如果有需要可以设置时区，这个是独立项目需要的，比如我这只在本地跑一点代码\n\n```shell\n# 设置时区\nRUN apk add --no-cache tzdata \\\n    && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n    && echo \"Asia/Shanghai\" > /etc/timezone \\\n    && apk del tzdata\n```\n\n之后基于使用的技术添加包\n比如\npython 需要 python3和pip\n```shell\nRUN apk add python3 py-pip\nRUN pip3 install requests\nRUN pip3 install schedule\n```\n\n- 最后运行当前启动指令\n\n```shell\nCMD [ \"python\", \"jobs.py\" ]\n```\n\n-----\n\n这之下是通过github action 打包docker 脚本\n可支持多种平台x86  arm 等\n```yml\nname: Build dockers\n\non:\n  push:\n    branches:\n      - master\n    tags:\n      - '*'\n\n  workflow_dispatch:\n\njobs:\n\n  docker:\n    name: Build dockers\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - uses: docker/setup-qemu-action@v2\n      - uses: docker/setup-buildx-action@v2\n        with:\n          install: true\n          platforms: linux/amd64,linux/arm64/v8,linux/arm/v7\n\n      - uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_USERNAME }}\n          password: ${{ secrets.DOCKER_TOKEN }}\n\n      - name: build and push in master\n        uses: docker/build-push-action@v4\n        with:\n          push: true\n          tags: dlld0319/jobs:latest\n          context: .\n          platforms: linux/amd64,linux/arm64/v8,linux/arm/v7\n```","slug":"ld/日常/其它/docker 打包学习","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6q0015d8ru2mla4p1b","content":"<p><strong>打包docker基本脚本</strong></p>\n<ul>\n<li><p>首先需要选择基础镜像。一般选择这个 是体积最小的。<br>如果使用特殊技术就选择对应技术使用的也可以，</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM alpine:latest</span><br><span class=\"line\"></span><br><span class=\"line\">FROM node:14-alpine3.15</span><br></pre></td></tr></table></figure></li>\n<li><p>如果有需要可以设置时区，这个是独立项目需要的，比如我这只在本地跑一点代码</p>\n</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置时区</span></span><br><span class=\"line\">RUN apk add --no-cache tzdata \\</span><br><span class=\"line\">    &amp;&amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\</span><br><span class=\"line\">    &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone \\</span><br><span class=\"line\">    &amp;&amp; apk del tzdata</span><br></pre></td></tr></table></figure>\n\n<p>之后基于使用的技术添加包<br>比如<br>python 需要 python3和pip</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RUN apk add python3 py-pip</span><br><span class=\"line\">RUN pip3 install requests</span><br><span class=\"line\">RUN pip3 install schedule</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>最后运行当前启动指令</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CMD [ &quot;python&quot;, &quot;jobs.py&quot; ]</span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>这之下是通过github action 打包docker 脚本<br>可支持多种平台x86  arm 等</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Build</span> <span class=\"string\">dockers</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">master</span></span><br><span class=\"line\">    <span class=\"attr\">tags:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&#x27;*&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">docker:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">Build</span> <span class=\"string\">dockers</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v3</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">docker/setup-qemu-action@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">docker/setup-buildx-action@v2</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">install:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">platforms:</span> <span class=\"string\">linux/amd64,linux/arm64/v8,linux/arm/v7</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">docker/login-action@v2</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">username:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.DOCKER_USERNAME</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">          <span class=\"attr\">password:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.DOCKER_TOKEN</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">build</span> <span class=\"string\">and</span> <span class=\"string\">push</span> <span class=\"string\">in</span> <span class=\"string\">master</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">docker/build-push-action@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">push:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">tags:</span> <span class=\"string\">dlld0319/jobs:latest</span></span><br><span class=\"line\">          <span class=\"attr\">context:</span> <span class=\"string\">.</span></span><br><span class=\"line\">          <span class=\"attr\">platforms:</span> <span class=\"string\">linux/amd64,linux/arm64/v8,linux/arm/v7</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"cover":false,"more":"<p><strong>打包docker基本脚本</strong></p>\n<ul>\n<li><p>首先需要选择基础镜像。一般选择这个 是体积最小的。<br>如果使用特殊技术就选择对应技术使用的也可以，</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM alpine:latest</span><br><span class=\"line\"></span><br><span class=\"line\">FROM node:14-alpine3.15</span><br></pre></td></tr></table></figure></li>\n<li><p>如果有需要可以设置时区，这个是独立项目需要的，比如我这只在本地跑一点代码</p>\n</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置时区</span></span><br><span class=\"line\">RUN apk add --no-cache tzdata \\</span><br><span class=\"line\">    &amp;&amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\</span><br><span class=\"line\">    &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone \\</span><br><span class=\"line\">    &amp;&amp; apk del tzdata</span><br></pre></td></tr></table></figure>\n\n<p>之后基于使用的技术添加包<br>比如<br>python 需要 python3和pip</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RUN apk add python3 py-pip</span><br><span class=\"line\">RUN pip3 install requests</span><br><span class=\"line\">RUN pip3 install schedule</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>最后运行当前启动指令</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CMD [ &quot;python&quot;, &quot;jobs.py&quot; ]</span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>这之下是通过github action 打包docker 脚本<br>可支持多种平台x86  arm 等</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Build</span> <span class=\"string\">dockers</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">master</span></span><br><span class=\"line\">    <span class=\"attr\">tags:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&#x27;*&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">docker:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">Build</span> <span class=\"string\">dockers</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v3</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">docker/setup-qemu-action@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">docker/setup-buildx-action@v2</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">install:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">platforms:</span> <span class=\"string\">linux/amd64,linux/arm64/v8,linux/arm/v7</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">docker/login-action@v2</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">username:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.DOCKER_USERNAME</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">          <span class=\"attr\">password:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.DOCKER_TOKEN</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">build</span> <span class=\"string\">and</span> <span class=\"string\">push</span> <span class=\"string\">in</span> <span class=\"string\">master</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">docker/build-push-action@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">push:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">tags:</span> <span class=\"string\">dlld0319/jobs:latest</span></span><br><span class=\"line\">          <span class=\"attr\">context:</span> <span class=\"string\">.</span></span><br><span class=\"line\">          <span class=\"attr\">platforms:</span> <span class=\"string\">linux/amd64,linux/arm64/v8,linux/arm/v7</span></span><br></pre></td></tr></table></figure>"},{"title":"苹果手机创建快捷地图方法其一","date":"2023-04-29T16:00:00.000Z","excerpt":"苹果手机创建快捷地图","_content":"**苹果手机创建快捷地图方法**\n\n高德api\n\n**[https://lbs.amap.com/tools/picker](https://lbs.amap.com/tools/picker)**\n\n腾讯地图api\n\n**[https://lbs.qq.com/getPoint/](https://lbs.qq.com/getPoint/)**\n\n苹果手机可以通过输入经纬度定位一个地点，通过快捷指令直接启动地图\n\n**iosamap://navi?sourceApplication=applicationName&poiname=龙湖&poiid=BGVIS&lat=38.859857&lon=121.438295&dev=1&style=0**","source":"_posts/ld/日常/其它/苹果手机地图使用技巧其1.md","raw":"---\ntitle: 苹果手机创建快捷地图方法其一\ndate: 2023-04-30\ncategories:\n- 小技巧\nexcerpt: 苹果手机创建快捷地图\n---\n**苹果手机创建快捷地图方法**\n\n高德api\n\n**[https://lbs.amap.com/tools/picker](https://lbs.amap.com/tools/picker)**\n\n腾讯地图api\n\n**[https://lbs.qq.com/getPoint/](https://lbs.qq.com/getPoint/)**\n\n苹果手机可以通过输入经纬度定位一个地点，通过快捷指令直接启动地图\n\n**iosamap://navi?sourceApplication=applicationName&poiname=龙湖&poiid=BGVIS&lat=38.859857&lon=121.438295&dev=1&style=0**","slug":"ld/日常/其它/苹果手机地图使用技巧其1","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6r0017d8ru6sosbl0s","content":"<p><strong>苹果手机创建快捷地图方法</strong></p>\n<p>高德api</p>\n<p><strong><a href=\"https://lbs.amap.com/tools/picker\">https://lbs.amap.com/tools/picker</a></strong></p>\n<p>腾讯地图api</p>\n<p><strong><a href=\"https://lbs.qq.com/getPoint/\">https://lbs.qq.com/getPoint/</a></strong></p>\n<p>苹果手机可以通过输入经纬度定位一个地点，通过快捷指令直接启动地图</p>\n<p><strong>iosamap://navi?sourceApplication=applicationName&amp;poiname=龙湖&amp;poiid=BGVIS&amp;lat=38.859857&amp;lon=121.438295&amp;dev=1&amp;style=0</strong></p>\n","site":{"data":{}},"cover":false,"more":"<p><strong>苹果手机创建快捷地图方法</strong></p>\n<p>高德api</p>\n<p><strong><a href=\"https://lbs.amap.com/tools/picker\">https://lbs.amap.com/tools/picker</a></strong></p>\n<p>腾讯地图api</p>\n<p><strong><a href=\"https://lbs.qq.com/getPoint/\">https://lbs.qq.com/getPoint/</a></strong></p>\n<p>苹果手机可以通过输入经纬度定位一个地点，通过快捷指令直接启动地图</p>\n<p><strong>iosamap://navi?sourceApplication=applicationName&amp;poiname=龙湖&amp;poiid=BGVIS&amp;lat=38.859857&amp;lon=121.438295&amp;dev=1&amp;style=0</strong></p>\n"},{"title":"苹果装机经验","date":"2023-05-19T08:31:00.000Z","excerpt":"苹果装机经验","_content":"\n\n- 第一步准备需要 先下载黑苹果镜像，并找适合的EFI\nefi是黑苹果引导和驱动 一般在github直接搜索芯片加 efi关键字就能找到\n比如我搜索的是 i38100 efi\n如果使用的是免驱显卡可操作范围就更大了，因为对应芯片的efi是为了核显驱动。23年了免驱的一般是amd显卡，购买偏向amd的比较好\n\n- 第二步将镜像写入u盘，u盘最好最小16g\n\n- 第三步 通过diskgenius 将u盘下的efi替换\n现在大部分用的都是oc 比较老的是用四叶草，不分贵贱。反正之后基本不会升级，升级驱动挂了基本没法用了。 还有需要把启动分区调整到300mb，都推荐300mb\n\n- 第四步 u盘uefi启动\n按照提示装机就行，启动不了就是efi不对，换就完了，正常装机会重启一次，重启的时候也要通过u盘启动继续到装完。\n\n- 第五步\n如果装好了就可以替换之前拷贝到u盘的efi到系统启动分区，之后启动就走的这个了\n\n\n---------\n镜像选择 在x86还是 Catalina最好  bigsur 也行，再往下就没有什么优化了，装新的性能不是很好","source":"_posts/ld/日常/其它/黑苹果装机经验.md","raw":"---\ntitle: 苹果装机经验\ndate: 2023-05-19 16:31:00\ncategories:\n- 小技巧\nexcerpt: 苹果装机经验\n---\n\n\n- 第一步准备需要 先下载黑苹果镜像，并找适合的EFI\nefi是黑苹果引导和驱动 一般在github直接搜索芯片加 efi关键字就能找到\n比如我搜索的是 i38100 efi\n如果使用的是免驱显卡可操作范围就更大了，因为对应芯片的efi是为了核显驱动。23年了免驱的一般是amd显卡，购买偏向amd的比较好\n\n- 第二步将镜像写入u盘，u盘最好最小16g\n\n- 第三步 通过diskgenius 将u盘下的efi替换\n现在大部分用的都是oc 比较老的是用四叶草，不分贵贱。反正之后基本不会升级，升级驱动挂了基本没法用了。 还有需要把启动分区调整到300mb，都推荐300mb\n\n- 第四步 u盘uefi启动\n按照提示装机就行，启动不了就是efi不对，换就完了，正常装机会重启一次，重启的时候也要通过u盘启动继续到装完。\n\n- 第五步\n如果装好了就可以替换之前拷贝到u盘的efi到系统启动分区，之后启动就走的这个了\n\n\n---------\n镜像选择 在x86还是 Catalina最好  bigsur 也行，再往下就没有什么优化了，装新的性能不是很好","slug":"ld/日常/其它/黑苹果装机经验","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clscgre6v001ad8ru9evd4xeu","content":"<ul>\n<li><p>第一步准备需要 先下载黑苹果镜像，并找适合的EFI<br>efi是黑苹果引导和驱动 一般在github直接搜索芯片加 efi关键字就能找到<br>比如我搜索的是 i38100 efi<br>如果使用的是免驱显卡可操作范围就更大了，因为对应芯片的efi是为了核显驱动。23年了免驱的一般是amd显卡，购买偏向amd的比较好</p>\n</li>\n<li><p>第二步将镜像写入u盘，u盘最好最小16g</p>\n</li>\n<li><p>第三步 通过diskgenius 将u盘下的efi替换<br>现在大部分用的都是oc 比较老的是用四叶草，不分贵贱。反正之后基本不会升级，升级驱动挂了基本没法用了。 还有需要把启动分区调整到300mb，都推荐300mb</p>\n</li>\n<li><p>第四步 u盘uefi启动<br>按照提示装机就行，启动不了就是efi不对，换就完了，正常装机会重启一次，重启的时候也要通过u盘启动继续到装完。</p>\n</li>\n<li><p>第五步<br>如果装好了就可以替换之前拷贝到u盘的efi到系统启动分区，之后启动就走的这个了</p>\n</li>\n</ul>\n<hr>\n<p>镜像选择 在x86还是 Catalina最好  bigsur 也行，再往下就没有什么优化了，装新的性能不是很好</p>\n","site":{"data":{}},"cover":false,"more":"<ul>\n<li><p>第一步准备需要 先下载黑苹果镜像，并找适合的EFI<br>efi是黑苹果引导和驱动 一般在github直接搜索芯片加 efi关键字就能找到<br>比如我搜索的是 i38100 efi<br>如果使用的是免驱显卡可操作范围就更大了，因为对应芯片的efi是为了核显驱动。23年了免驱的一般是amd显卡，购买偏向amd的比较好</p>\n</li>\n<li><p>第二步将镜像写入u盘，u盘最好最小16g</p>\n</li>\n<li><p>第三步 通过diskgenius 将u盘下的efi替换<br>现在大部分用的都是oc 比较老的是用四叶草，不分贵贱。反正之后基本不会升级，升级驱动挂了基本没法用了。 还有需要把启动分区调整到300mb，都推荐300mb</p>\n</li>\n<li><p>第四步 u盘uefi启动<br>按照提示装机就行，启动不了就是efi不对，换就完了，正常装机会重启一次，重启的时候也要通过u盘启动继续到装完。</p>\n</li>\n<li><p>第五步<br>如果装好了就可以替换之前拷贝到u盘的efi到系统启动分区，之后启动就走的这个了</p>\n</li>\n</ul>\n<hr>\n<p>镜像选择 在x86还是 Catalina最好  bigsur 也行，再往下就没有什么优化了，装新的性能不是很好</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"clscgre6g0009d8ru7n2zbn4j","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6j000gd8rugnej8hl1"},{"post_id":"clscgre6c0003d8ruak7oe3zr","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6k000kd8ru4jp8071a"},{"post_id":"clscgre6i000ed8rucgsv6s4l","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6l000nd8ruf6gpa4nu"},{"post_id":"clscgre6d0005d8rudsumabp5","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6m000pd8ru0bbe9izt"},{"post_id":"clscgre6j000fd8ru0sde32l3","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6m000sd8rudfx1cwlm"},{"post_id":"clscgre6k000jd8ruhoufda67","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6n000vd8ru3qskdb1y"},{"post_id":"clscgre6f0008d8ru655c7urw","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6o000xd8rudo7certm"},{"post_id":"clscgre6l000md8ru04gceefq","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6p0010d8ru9fp2azfm"},{"post_id":"clscgre6l000od8rudgfs5e5y","category_id":"clscgre6m000td8ru3hq3h7bv","_id":"clscgre6q0014d8ru0xn18os0"},{"post_id":"clscgre6m000rd8ru0lxx5dph","category_id":"clscgre6m000td8ru3hq3h7bv","_id":"clscgre6u0019d8rucbx2c6ew"},{"post_id":"clscgre6q0012d8rua73bcpjl","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6v001bd8ru29rq0afc"},{"post_id":"clscgre6n000ud8rugvkecg47","category_id":"clscgre6m000td8ru3hq3h7bv","_id":"clscgre6v001cd8ru77x943no"},{"post_id":"clscgre6r0017d8ru6sosbl0s","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6v001ed8rucoz3dv54"},{"post_id":"clscgre6v001ad8ru9evd4xeu","category_id":"clscgre6e0006d8rufz23ci1q","_id":"clscgre6w001fd8ruclf10uzx"},{"post_id":"clscgre6n000wd8ru81lofu7k","category_id":"clscgre6u0018d8ru39swelrr","_id":"clscgre6w001hd8ru8r8v53jv"},{"post_id":"clscgre6o000yd8ru6akkgtu5","category_id":"clscgre6v001dd8rues59appg","_id":"clscgre6w001id8rug1ky7rgb"},{"post_id":"clscgre6p0011d8ru6kx35m4u","category_id":"clscgre6w001gd8ru7dvt2lg7","_id":"clscgre6w001kd8ruhpso276k"},{"post_id":"clscgre6q0015d8ru2mla4p1b","category_id":"clscgre6w001jd8ru6umyf37o","_id":"clscgre6w001ld8ru6a689amg"}],"PostTag":[{"post_id":"clscgre6c0003d8ruak7oe3zr","tag_id":"clscgre6f0007d8ru0x4p8kkf","_id":"clscgre6i000dd8ru9xu53cbn"},{"post_id":"clscgre6d0005d8rudsumabp5","tag_id":"clscgre6h000cd8ru4sx35ntp","_id":"clscgre6k000ld8ru77743cgm"},{"post_id":"clscgre6f0008d8ru655c7urw","tag_id":"clscgre6f0007d8ru0x4p8kkf","_id":"clscgre6m000qd8ru1pom5erz"},{"post_id":"clscgre6q0012d8rua73bcpjl","tag_id":"clscgre6f0007d8ru0x4p8kkf","_id":"clscgre6r0016d8ru143ihoip"}],"Tag":[{"name":"工具链接","_id":"clscgre6f0007d8ru0x4p8kkf"},{"name":"code","_id":"clscgre6h000cd8ru4sx35ntp"}]}}